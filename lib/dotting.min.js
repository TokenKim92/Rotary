/*! For license information please see dotting.min.js.LICENSE.txt */
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.Dotting=i():t.Dotting=i()}(self,(()=>(()=>{"use strict";var t={d:(i,e)=>{for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i)},i={};t.d(i,{default:()=>n});const e=2*Math.PI;function s(t,i){const e=i.x-t.x,s=i.y-t.y;return Math.sqrt(e*e+s*s)}class a{#t;#i=0;#e=0;#s;#a;constructor(t,i=60){this.#s=t,this.#a=i}initRipple(t,i){this.#i=0,this.#e=this.#h(t,i),this.#t=this.#r(this.#e)}animate(){this.#c||(this.#i+=this.#t)}#h(t,i){const e=s(t,i),a=s({x:t.x+t.width,y:t.y},i),h=s({x:t.x,y:t.y+t.height},i),r=s({x:t.x+t.width,y:t.y+t.height},i);return Math.max(e,a,h,r)}#r(t){return t/(1e3/this.#a*this.#s)}stop(){this.#i=0,this.#e=0}get#c(){return this.#i>=this.#e}get radius(){return this.#i}}class h{static BOUNCE=.82;#o={x:0,y:0};#n;#d;#l;#g;#m;#u;constructor(t,i,e,s){this.#o=t,this.#n=i,this.#d=0,this.#l=0,this.#g=e,this.#m=e/2,this.#u=s}animate(t){this.#p(t),this.#x(),this.#R(t)}#p(t){t.fillStyle="#000000",t.fillRect(this.#o.x-this.#m,this.#o.y-this.#m,this.#g,this.#g)}#x(){const t=(this.#n-this.#d)/2;this.#l=(this.#l+t)*h.BOUNCE,this.#d+=this.#l}#R(t){t.beginPath(),t.fillStyle=this.#u,t.arc(this.#o.x,this.#o.y,this.#d,0,e),t.fill()}reset(){this.#d=0,this.#l=0}get pos(){return this.#o}}class r{static INIT_MODE=-1;static SMALL_MODE=0;static REGULAR_MODE=1;static MEDIUM_MODE=2;static LARGE_MODE=3;#M;#S;#f;#w;#E;constructor(t=!1){this.#M=document.createElement("canvas"),this.#S=this.#M.getContext("2d"),document.body.append(this.#M),this.#E=t,this.#E&&this.#M.classList.add("canvas-full")}resize(t=0,i=0){this.#f=0===t?document.body.clientWidth:t,this.#w=0===i?document.body.clientHeight:i,this.#M.width=this.#f,this.#M.height=this.#w}clearCanvas(){this.#S.clearRect(0,0,this.#f,this.#w)}clearRect(t,i,e,s){this.#S.clearRect(t,i,e,s)}addEventToCanvas(t,i){this.#M.addEventListener(t,i)}removeEventFromCanvas(t,i){this.#M.removeEventListener(t,i)}bringToStage(){document.body.append(this.#M)}removeFromStage(){this.clearCanvas(),document.body.removeChild(this.#M)}setPosition(t,i){if(this.#E)throw new Error("Positioning is not possible in full screen mode.");this.#M.style.left=`${t}px`,this.#M.style.top=`${i}px`}get stageWidth(){return this.#f}get stageHeight(){return this.#w}get ctx(){return this.#S}get isMatchMedia(){return this.sizeMode===r.SMALL_MODE}get isHeighResolution(){return this.sizeMode===r.LARGE_MODE}get sizeMode(){const t=[{mode:r.SMALL_MODE,size:768},{mode:r.REGULAR_MODE,size:1374},{mode:r.MEDIUM_MODE,size:1980},{mode:r.LARGE_MODE,size:3840}],i=t.filter((t=>!window.matchMedia(`(max-width: ${t.size}px)`).matches)).length;return t[i].mode}}class c{#v;#y;#z;constructor(t,i,e){this.#v=t,this.#y=i,this.#z=e}get width(){return this.#v()}get size(){return this.#v()}get size(){return this.#v()}get font(){return`${this.#v} ${this.#y}px ${this.#z}`}}class o extends r{static FONT_WIDTH=600;static POS_Y=50;#I=0;#D;#u;constructor(t,i,e="rgb(255,255,255)"){super(),this.#I=t,this.#D=i,this.#u=e,this.#L()}resize(){super.resize(),this.#L()}#L(){const t=new c(o.FONT_WIDTH,this.#_,this.#D);this.ctx.font=t.font,this.ctx.fillStyle=this.#u,this.ctx.textBaseline="middle"}get#_(){switch(this.sizeMode){case r.SMALL_MODE:return 20;case r.REGULAR_MODE:return 30;case r.MEDIUM_MODE:return 40;case r.LARGE_MODE:return 50;default:throw new Error("This canvas size is not possible!")}}draw(){const t=this.ctx.measureText(this.#I);this.ctx.fillText(this.#I,(this.stageWidth-t.width)/2,o.POS_Y)}}class n extends r{static RADIUS=10;static PIXEL_SIZE=24;static SMALL_MODE_RADIUS=4;static SMALL_MODE_PIXEL_SIZE=10;#O;#i;#g;#A=[];#b=!1;#H;#P;#k={x:0,y:0,width:0,height:0};#W={x:0,y:0};constructor(t,i=5,e=60){super(!0),this.#O=new o("Basic code by 'Interactive Developer'","Arial"),this.#P=new a(i,e),this.#H=new Image,this.#H.src=t,this.#H.onload=()=>{this.#b=!0,this.resize()},this.#C(),this.#O.addEventToCanvas("click",this.onClick)}bringToStage(){super.bringToStage(),this.#O.bringToStage(),this.#O.addEventToCanvas("click",this.onClick),this.clearCanvas(),this.#A.forEach((t=>t.reset())),this.#P.stop(),this.#F()}removeFromStage(){super.removeFromStage(),this.#O.removeFromStage(),this.#O.removeEventFromCanvas("click",this.onClick)}resize(){super.resize(),this.#O.resize(),this.#O.draw(),this.#P.stop(),this.#b&&this.#L(),this.#C()}#L(){this.#T(),this.#F(),this.#U()}#C(){this.isMatchMedia?(this.#i=n.SMALL_MODE_RADIUS,this.#g=n.SMALL_MODE_PIXEL_SIZE):(this.#i=n.RADIUS,this.#g=n.PIXEL_SIZE)}#T(){const t=this.stageWidth/this.stageHeight;this.#H.width/this.#H.height>t?(this.#k.width=this.stageWidth,this.#k.height=Math.round(this.#H.height*(this.stageWidth/this.#H.width)),this.#k.x=0,this.#k.y=Math.round((this.stageHeight-this.#k.height)/2)):(this.#k.width=Math.round(this.#H.width*(this.stageHeight/this.#H.height)),this.#k.height=this.stageHeight,this.#k.x=Math.round((this.stageWidth-this.#k.width)/2),this.#k.y=0)}#U(){const t=Math.ceil(this.stageWidth/this.#g),i=Math.ceil(this.stageHeight/this.#g),e=this.ctx.getImageData(0,0,this.stageWidth,this.stageHeight);let s,a,r,c,o,n;this.#A=[];for(let d=0;d<i;d++){a=(d+.5)*this.#g,a=Math.max(Math.min(a,this.stageHeight),0);for(let i=0;i<t;i++)s=(i+.5)*this.#g,s=Math.max(Math.min(s,this.stageWidth),0),n=4*(s+a*this.stageWidth),r=e.data[n+0],c=e.data[n+1],o=e.data[n+2],this.#A.push(new h({x:s,y:a},this.#i,this.#g,`rgb(${r}, ${c}, ${o})`))}}animate(){this.#P.animate(this.ctx),this.#A.forEach((t=>{return i=t.pos,e=this.#W,a=this.#P.radius,s(i,e)<=a&&t.animate(this.ctx);var i,e,a}))}onClick=t=>{this.clearCanvas(),this.#A.forEach((t=>t.reset())),this.#F(),this.#W={x:t.offsetX,y:t.offsetY},this.#P.initRipple(this.#k,{x:t.offsetX,y:t.offsetY})};#F(){this.ctx.drawImage(this.#H,0,0,this.#H.width,this.#H.height,this.#k.x,this.#k.y,this.#k.width,this.#k.height)}}return i.default})()));