/*! For license information please see dotting.min.js.LICENSE.txt */
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.Dotting=i():t.Dotting=i()}(self,(()=>(()=>{"use strict";var t={d:(i,e)=>{for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i)},i={};t.d(i,{default:()=>n});const e=2*Math.PI;function s(t,i){const e=i.x-t.x,s=i.y-t.y;return Math.sqrt(e*e+s*s)}class a{#t;#i=0;#e=0;constructor(t){this.#t=t}initRipple(t,i){this.#i=0,this.#e=this.#s(t,i)}animate(){this.#a||(this.#i+=this.#t)}#s(t,i){const e=s(t,i),a=s({x:t.x+t.width,y:t.y},i),h=s({x:t.x,y:t.y+t.height},i),r=s({x:t.x+t.width,y:t.y+t.height},i);return Math.max(e,a,h,r)}stop(){this.#i=0,this.#e=0}get#a(){return this.#i>=this.#e}get radius(){return this.#i}}class h{static BOUNCE=.82;#h={x:0,y:0};#r;#c;#o;#n;#d;#g;constructor(t,i,e,s){this.#h=t,this.#r=i,this.#c=0,this.#o=0,this.#n=e,this.#d=e/2,this.#g=s}animate(t){this.#l(t),this.#m(),this.#u(t)}#l(t){t.fillStyle="#000000",t.fillRect(this.#h.x-this.#d,this.#h.y-this.#d,this.#n,this.#n)}#m(){const t=(this.#r-this.#c)/2;this.#o=(this.#o+t)*h.BOUNCE,this.#c+=this.#o}#u(t){t.beginPath(),t.fillStyle=this.#g,t.arc(this.#h.x,this.#h.y,this.#c,0,e),t.fill()}reset(){this.#c=0,this.#o=0}get pos(){return this.#h}}class r{static INIT_MODE=-1;static SMALL_MODE=0;static REGULAR_MODE=1;static MEDIUM_MODE=2;static LARGE_MODE=3;#p;#x;#f;#w;#R;constructor(t=!1){this.#p=document.createElement("canvas"),this.#x=this.#p.getContext("2d"),document.body.append(this.#p),this.#R=t,this.#R&&this.#p.classList.add("canvas-full")}resize(t=0,i=0){this.#f=0===t?document.body.clientWidth:t,this.#w=0===i?document.body.clientHeight:i,this.#p.width=this.#f,this.#p.height=this.#w}clearCanvas(){this.#x.clearRect(0,0,this.#f,this.#w)}clearRect(t,i,e,s){this.#x.clearRect(t,i,e,s)}addEventToCanvas(t,i){this.#p.addEventListener(t,i)}removeEventFromCanvas(t,i){this.#p.removeEventListener(t,i)}bringToStage(){document.body.append(this.#p)}removeFromStage(){this.clearCanvas(),document.body.removeChild(this.#p)}setPosition(t,i){if(this.#R)throw new Error("Positioning is not possible in full screen mode.");this.#p.style.left=`${t}px`,this.#p.style.top=`${i}px`}get stageWidth(){return this.#f}get stageHeight(){return this.#w}get ctx(){return this.#x}get isMatchMedia(){return this.getSizeMode()===r.SMALL_MODE}get isHeighResolution(){return this.getSizeMode()===r.LARGE_MODE}get sizeMode(){const t=[{mode:r.SMALL_MODE,size:500},{mode:r.REGULAR_MODE,size:1e3},{mode:r.MEDIUM_MODE,size:1980},{mode:r.LARGE_MODE,size:3840}],i=t.filter((t=>!window.matchMedia(`(max-width: ${t.size}px)`).matches)).length;return t[i].mode}}class c{#v;#M;#y;constructor(t,i,e){this.#v=t,this.#M=i,this.#y=e}get width(){return this.#v()}get size(){return this.#v()}get size(){return this.#v()}get font(){return`${this.#v} ${this.#M}px ${this.#y}`}}class o extends r{static FONT_WIDTH=600;static POS_Y=50;#E=0;#z;#g;constructor(t,i,e="rgb(255,255,255)"){super(),this.#E=t,this.#z=i,this.#g=e,this.#S()}resize(){super.resize(),this.#S()}#S(){const t=new c(o.FONT_WIDTH,this.#D,this.#z);this.ctx.font=t.font,this.ctx.fillStyle=this.#g,this.ctx.textBaseline="middle"}get#D(){switch(this.sizeMode){case r.SMALL_MODE:return 20;case r.REGULAR_MODE:return 30;case r.MEDIUM_MODE:return 40;case r.LARGE_MODE:return 50;default:throw new Error("This canvas size is not possible!")}}draw(){const t=this.ctx.measureText(this.#E);this.ctx.fillText(this.#E,(this.stageWidth-t.width)/2,o.POS_Y)}}class n extends r{#I;#i=10;#n=24;#O=[];#b=!1;#H;#L;#k={x:0,y:0,width:0,height:0};#_={x:0,y:0};constructor(t,i=10){super(!0),this.#I=new o("Basic code by 'Interactive Developer'","Arial"),this.#L=new a(i),this.#H=new Image,this.#H.src=t,this.#H.onload=()=>{this.#b=!0,this.resize()},this.#I.addEventToCanvas("click",this.onClick)}bringToStage(){super.bringToStage(),this.#I.bringToStage(),this.#I.addEventToCanvas("click",this.onClick),this.clearCanvas(),this.#O.forEach((t=>t.reset())),this.#L.stop(),this.#W()}removeFromStage(){super.removeFromStage(),this.#I.removeFromStage(),this.#I.removeEventFromCanvas("click",this.onClick)}resize(){super.resize(),this.#I.resize(),this.#I.draw(),this.#b&&this.#S()}#S(){this.#C(),this.#W(),this.#T()}#C(){const t=this.stageWidth/this.stageHeight;this.#H.width/this.#H.height>t?(this.#k.width=this.stageWidth,this.#k.height=Math.round(this.#H.height*(this.stageWidth/this.#H.width)),this.#k.y=Math.round((this.stageHeight-this.#k.height)/2)):(this.#k.width=Math.round(this.#H.width*(this.stageHeight/this.#H.height)),this.#k.height=this.stageHeight,this.#k.x=Math.round((this.stageWidth-this.#k.width)/2))}#T(){const t=Math.ceil(this.stageWidth/this.#n),i=Math.ceil(this.stageHeight/this.#n),e=this.ctx.getImageData(0,0,this.stageWidth,this.stageHeight);let s,a,r,c,o,n;this.#O=[];for(let d=0;d<i;d++){a=(d+.5)*this.#n,a=Math.max(Math.min(a,this.stageHeight),0);for(let i=0;i<t;i++)s=(i+.5)*this.#n,s=Math.max(Math.min(s,this.stageWidth),0),n=4*(s+a*this.stageWidth),r=e.data[n+0],c=e.data[n+1],o=e.data[n+2],this.#O.push(new h({x:s,y:a},this.#i,this.#n,`rgb(${r}, ${c}, ${o})`))}}animate(){this.#L.animate(this.ctx),this.#O.forEach((t=>{return i=t.pos,e=this.#_,a=this.#L.radius,s(i,e)<=a&&t.animate(this.ctx);var i,e,a}))}onClick=t=>{this.clearCanvas(),this.#O.forEach((t=>t.reset())),this.#W(),this.#_={x:t.offsetX,y:t.offsetY},this.#L.initRipple(this.#k,{x:t.offsetX,y:t.offsetY})};#W(){this.ctx.drawImage(this.#H,0,0,this.#H.width,this.#H.height,this.#k.x,this.#k.y,this.#k.width,this.#k.height)}}return i.default})()));