/*! For license information please see dotting.min.js.LICENSE.txt */
!function(t,s){"object"==typeof exports&&"object"==typeof module?module.exports=s():"function"==typeof define&&define.amd?define([],s):"object"==typeof exports?exports.Dotting=s():t.Dotting=s()}(self,(()=>(()=>{"use strict";var t={d:(s,i)=>{for(var e in i)t.o(i,e)&&!t.o(s,e)&&Object.defineProperty(s,e,{enumerable:!0,get:i[e]})},o:(t,s)=>Object.prototype.hasOwnProperty.call(t,s)},s={};t.d(s,{default:()=>d});const i=2*Math.PI;function e(t,s){const i=s.x-t.x,e=s.y-t.y;return Math.sqrt(i*i+e*e)}class a{#t;#s=0;#i=0;#e;#a;constructor(t,s=60){this.#e=t,this.#a=s}init(t,s){this.#s=0,this.#i=this.#h(t,s),this.#t=this.#r(this.#i)}animate(){this.#n||(this.#s+=this.#t)}#h(t,s){const i=e(t,s),a=e({x:t.x+t.width,y:t.y},s),h=e({x:t.x,y:t.y+t.height},s),r=e({x:t.x+t.width,y:t.y+t.height},s);return Math.max(i,a,h,r)}#r(t){return t/(1e3/this.#a*this.#e)}stop(){this.#s=0,this.#i=0}get#n(){return this.#s>=this.#i}get radius(){return this.#s}}class h{static BOUNCE=.82;#o={x:0,y:0};#c;#g;#d;#l;#u;#m;constructor(t,s,i,e){this.#o=t,this.#c=s,this.#g=0,this.#d=0,this.#l=i,this.#u=i/2,this.#m=e}animate(t){this.#x(t),this.#p(),this.#T(t)}#x(t){t.fillStyle="#000000",t.fillRect(this.#o.x-this.#u,this.#o.y-this.#u,this.#l,this.#l)}#p(){const t=(this.#c-this.#g)/2;this.#d=(this.#d+t)*h.BOUNCE,this.#g+=this.#d}#T(t){t.beginPath(),t.fillStyle=this.#m,t.arc(this.#o.x,this.#o.y,this.#g,0,i),t.fill()}reset(){this.#g=0,this.#d=0}get pos(){return this.#o}}class r{static INIT_MODE=-1;static SMALL_MODE=0;static REGULAR_MODE=1;static MEDIUM_MODE=2;static LARGE_MODE=3;#y;#I;#E;#M;#f;#L;constructor(t=!1){this.#y=document.createElement("canvas"),this.#y.style.position="absolute",this.#I=this.#y.getContext("2d"),document.body.append(this.#y),this.#f=t,this.#f&&(this.#y.style.width="100%",this.#y.style.height="100%")}resize(t=0,s=0){this.#E=0===t?document.body.clientWidth:t,this.#M=0===s?document.body.clientHeight:s,this.#y.width=this.#E,this.#y.height=this.#M}clearCanvas(){this.#I.clearRect(0,0,this.#E,this.#M)}clearRect(t,s,i,e){this.#I.clearRect(t,s,i,e)}addEventToCanvas(t,s){this.#y.addEventListener(t,s)}removeEventFromCanvas(t,s){this.#y.removeEventListener(t,s)}bringToStage(){this.#L=!0,document.body.append(this.#y)}removeFromStage(){this.#L=!1,this.clearCanvas(),document.body.removeChild(this.#y)}setPosition(t,s){if(this.#f)throw new Error("Positioning is not possible in full screen mode.");this.#y.style.left=`${t}px`,this.#y.style.top=`${s}px`}hide(t=0,s="ease"){t?setTimeout((()=>{this.#y.style.opacity="0",this.#y.style.transition=`opacity ${t}ms  ${s}`,setTimeout((()=>this.#y.style.transition=""),t)}),t):this.#y.style.opacity="0"}show(t=0,s="ease"){t?setTimeout((()=>{this.#y.style.opacity="1",this.#y.style.transition=`opacity ${t}ms  ${s}`,setTimeout((()=>this.#y.style.transition=""),t)}),t):this.#y.style.opacity="1"}get stageWidth(){return this.#E}get stageHeight(){return this.#M}get ctx(){return this.#I}get isMatchMedia(){return this.sizeMode===r.SMALL_MODE}get isHeighResolution(){return this.sizeMode===r.LARGE_MODE}get sizeMode(){const t=[{mode:r.SMALL_MODE,size:768},{mode:r.REGULAR_MODE,size:1374},{mode:r.MEDIUM_MODE,size:1980},{mode:r.LARGE_MODE,size:3840}],s=t.filter((t=>!window.matchMedia(`(max-width: ${t.size}px)`).matches)).length;return t[s].mode}set backgroundColor(t){this.#y.style.background=t}set borderRadius(t){this.#y.style.borderRadius=`${t}px`}get isOnStage(){return this.#L}}class n{#S;#D;#v;#m;constructor(t,s,i,e){this.#S=t,this.#D=s,this.#v=i,this.#m=e}get width(){return this.#S}get size(){return this.#D}get name(){return this.#v}get color(){return this.#m}get font(){return`${this.#S} ${this.#D}px ${this.#v}`}}class o extends r{static FONT_WIDTH=600;static POS_Y=50;#P=0;#w;#m;constructor(t,s,i="rgb(255,255,255)"){super(),this.#P=t,this.#w=s,this.#m=i,this.#R()}resize(){super.resize(),this.#R()}#R(){const t=new n(o.FONT_WIDTH,this.#A,this.#w);this.ctx.font=t.font,this.ctx.fillStyle=this.#m,this.ctx.textBaseline="middle"}get#A(){switch(this.sizeMode){case r.SMALL_MODE:return 20;case r.REGULAR_MODE:return 30;case r.MEDIUM_MODE:return 40;case r.LARGE_MODE:return 50;default:throw new Error("This canvas size is not possible!")}}draw(){const t=this.ctx.measureText(this.#P);this.ctx.fillText(this.#P,(this.stageWidth-t.width)/2,o.POS_Y)}}class c extends r{static TAB_TOGGLE_TIME=600;static TAB_THICKNESS=1;static BACK=-1;static FORWARD=1;static INIT=0;static TYPE=1;static MOVE=2;static DELETE=3;static DELAY=4;static FONT_HEIGHT_OFFSET=10;#O={msg:c.INIT,data:null};#H=[];#z;#t;#_=0;#F=0;#b=0;#C=!0;#W={x:0,y:0};#P="";#N=[];#k=0;#B=0;#G=this.#Y;#U=0;#$=!0;#V;#j;#X=!1;#K=null;constructor(t,s=50){super(),this.#z=t,this.#t=s,this.setStartPos(10,10),this.#N.push({...this.#W})}setStartPos(t,s){this.#W={x:t,y:s},this.#N=[],this.#N.push({...this.#W})}resize(t=0,s=0){super.resize(t,s),this.#Z(this.#z),this.init()}removeFromStage(){this.init(),super.removeFromStage()}init(){this.#O={msg:c.INIT,data:null},this.#H=[],this.#P="",this.#N=[],this.#N.push({...this.#W}),this.#k=0,this.#B=0,this.#G=this.#Y,this.#U=0,this.#$=!0,this.#V="",this.#j=0,this.#X=!1}start(){this.#X=!0}stop(){this.#X=!1}animate(t){if(this.#X){if(this.#_=t,this.#O.msg===c.INIT&&(this.#O=0!==this.#H.length?this.#H.shift():this.#O,this.#G=this.#q()),this.#J&&this.#Q)return this.#G(this.#O.data),void(this.#b=t);this.#tt&&(this.#Y(),this.#F=this.#_,this.#K&&this.#st&&this.#K(this.data),this.#it&&this.#et&&(this.#O={msg:c.INIT,data:null}))}}setWaitingHandler(t,s){this.#K=t,this.data=s}type(t,s=0){return this.#H.push({msg:c.TYPE,data:t}),s&&this.#H.push({msg:c.DELAY,data:s}),this}move(t,s=0){return this.#H.push({msg:c.MOVE,data:t}),s&&this.#H.push({msg:c.DELAY,data:s}),this}moveFront(t=0){return this.#H.push({msg:c.MOVE,data:Number.MIN_SAFE_INTEGER}),t&&this.#H.push({msg:c.DELAY,data:t}),this}moveEnd(t=0){return this.#H.push({msg:c.MOVE,data:Number.MAX_SAFE_INTEGER}),t&&this.#H.push({msg:c.DELAY,data:t}),this}delete(t,s=0){return this.#H.push({msg:c.DELETE,data:t}),s&&this.#H.push({msg:c.DELAY,data:s}),this}delay(t){return this.#H.push({msg:c.DELAY,data:t}),this}#q(){switch(this.#O.msg){case c.TYPE:return this.#at(this.#O.data),this.#ht;case c.MOVE:return this.#rt(this.#O.data),this.#nt;case c.DELETE:return this.#ot(this.#O.data),this.#ct;case c.DELAY:this.#gt(this.#O.data);default:return this.#Y}}#at(t){const s=t.constructor!==Array?t:t.reduce(((s,i,e)=>s+(e!==t.length-1?i+"\n":i)),""),i=this.#P.slice(0,this.#k);this.#V=this.#P.slice(this.#k),this.#P=i+s+this.#V,this.#B=this.#k+s.length;const e=this.#V.indexOf("\n");-1===e||(this.#V=this.#V.slice(0,e)),this.#dt(0)}#rt(t){this.#B+=t,this.#B>this.#P.length&&(this.#B=this.#P.length),this.#B<0&&(this.#B=0),this.#U=this.#O.data<0?c.BACK:c.FORWARD,this.#k===this.#B&&(this.#U=0),this.#B!==this.#P.length&&(this.#$=!1)}#ot(t){this.#B+=t,this.#B>this.#P.length&&(this.#B=this.#P.length),this.#U=this.#O.data<0?c.BACK:c.FORWARD}#gt(t){this.#j=this.#_+t}#dt(t){this.#N.splice(t,this.#N.length-t);let s=0===t?{...this.#W}:{...this.#N[t-1]};this.#N.push({...s});for(let i=t;i<this.#P.length;i++){const t=this.#P[i];s="\n"===t?this.#lt(s):{x:s.x+=this.ctx.measureText(t).width,y:s.y},this.#N.push({...s})}}#lt(t){return{x:this.#W.x,y:t.y+this.#z.size+c.FONT_HEIGHT_OFFSET}}#ht(){const t=this.#N[this.#k];this.#ut(t),this.#$||this.#mt();const s=this.#P[this.#k],i=this.#$?s:s+this.#V;this.ctx.fillText(i,t.x,t.y);const e=this.#N[this.#k+1];this.#xt(e),this.#k++,this.#pt&&(this.#O={msg:c.INIT,data:null})}#nt(){const t=this.#N[this.#k];this.#ut(t),this.#k+=this.#U;const s=this.#N[this.#k];this.#xt(s),this.#k===this.#P.length&&(this.#$=!0),this.#pt&&(this.#O={msg:c.INIT,data:null})}#ct(){const t=this.#N[this.#k];this.#ut(t),this.#mt(),this.#V=this.#P.slice(this.#k+1),this.#P=this.#P.slice(0,this.#k)+this.#V,this.#dt(this.#k+1),this.ctx.fillText(this.#V,t.x,t.y),this.#B-=this.#U;const s=this.#N[this.#k];this.#xt(s),this.#pt&&(this.#O={msg:c.INIT,data:null})}#Y(){const t=this.#N[this.#k];this.#C?this.#xt(t):this.#ut(t),this.#C=!this.#C}#xt(t){this.ctx.save(),this.ctx.imageSmoothingEnabled=!1,this.ctx.fillRect(t.x,t.y,c.TAB_THICKNESS,this.#z.size),this.ctx.restore()}#ut(t){this.ctx.clearRect(t.x-1,t.y,c.TAB_THICKNESS+2,this.#z.size)}#mt(){const t=this.#N[this.#k],s=this.#N[this.#Tt];this.clearRect(t.x,t.y-c.FONT_HEIGHT_OFFSET,s.x,s.y+this.#z.size+c.FONT_HEIGHT_OFFSET)}#Z(t){this.ctx.textBaseline="top",this.ctx.font=t.font,this.ctx.fillStyle=t.color}get#Tt(){let t;for(t=this.#B;t<this.#P.length&&"\n"!==this.#P[t];t++);return t===this.#N.length&&t--,t}get#pt(){return this.#k===this.#B}get#Q(){return this.#t<this.#_-this.#b}get#tt(){return c.TAB_TOGGLE_TIME<this.#_-this.#F}get#J(){return this.#O.msg!==c.INIT&&this.#O.msg!==c.DELAY}get#it(){return this.#O.msg===c.DELAY}get#st(){return this.#O.msg===c.INIT}get#et(){return this.#j<this.#_}set fontFormat(t){this.#z=t,this.#Z(t)}}class g{#ht;#E;#M;#w;#yt;#It;#Et=!1;constructor(t,s=50,i="#ffffff",e="#000000cc"){this.#w=t,this.#yt=i,this.#It=e,this.#ht=new c(new n(400,50,this.#w,this.#yt),s),this.#ht.setWaitingHandler(this.hide,300),this.#ht.hide()}resize(){this.#ht.isMatchMedia?(this.#E=230,this.#M=150,this.#ht.fontFormat=new n(400,26,this.#w,this.#yt),this.#ht.setStartPos(30,50)):(this.#E=530,this.#M=130,this.#ht.fontFormat=new n(400,35,this.#w,this.#yt),this.#ht.setStartPos(60,50)),this.#ht.resize(this.#E,this.#M),this.#ht.setPosition((document.body.clientWidth-this.#E)/2,(document.body.clientHeight-this.#M)/2),this.#ht.borderRadius=15,this.#ht.backgroundColor=this.#It,this.setMessage()}animate(t){this.#ht.animate(t)}setMessage(){const t=this.#ht.isMatchMedia?["Touch anywhere","on the screen"]:"Click anywhere on the screen";this.#ht.delay(500).type(t,200).start()}show(t=0,s="ease"){this.#Et=!1,this.#ht.isOnStage||this.#ht.bringToStage(),this.#ht.show(t,s)}hide=(t=0,s="ease")=>{this.#Et||(this.#Et=!0,this.#ht.hide(t,s),setTimeout((()=>this.#ht.isOnStage&&this.#ht.removeFromStage()),2*t))}}class d extends r{static RADIUS=6;static PIXEL_SIZE=2*(d.RADIUS+1);static SMALL_MODE_RADIUS=d.RADIUS/2;static SMALL_MODE_PIXEL_SIZE=2*(d.SMALL_MODE_RADIUS+1);#Mt;#s;#l;#ft=[];#Lt=!1;#St;#Dt;#vt={x:0,y:0,width:0,height:0};#Pt={x:0,y:0};#wt;constructor(t,s="Arial",i=3,e=60){super(!0),this.#Mt=new o("Basic code by 'Interactive Developer'",s),this.#Dt=new a(i,e),this.#wt=new g(s,50,"#ffffff","#2f2f2fcc"),this.#St=new Image,this.#St.src=t,this.#St.onload=()=>{this.#Lt=!0,this.resize()},this.#Rt(),this.#Mt.addEventToCanvas("click",this.onClick),this.#wt.show(300)}bringToStage(){super.bringToStage(),this.#Mt.bringToStage(),this.#Mt.addEventToCanvas("click",this.onClick),this.clearCanvas(),this.#ft.forEach((t=>t.reset())),this.#Dt.stop(),this.#At(),this.#wt.setMessage(),this.#wt.show(300)}removeFromStage(){super.removeFromStage(),this.#wt.hide(),this.#Mt.removeFromStage(),this.#Mt.removeEventFromCanvas("click",this.onClick)}resize(){super.resize(),this.#wt.resize(),this.#Mt.resize(),this.#Mt.draw(),this.#Dt.stop(),this.#Lt&&this.#R(),this.#Rt()}#R(){this.#Ot(),this.#At(),this.#Ht()}#Rt(){this.isMatchMedia?(this.#s=d.SMALL_MODE_RADIUS,this.#l=d.SMALL_MODE_PIXEL_SIZE):(this.#s=d.RADIUS,this.#l=d.PIXEL_SIZE)}#Ot(){const t=this.stageWidth/this.stageHeight;this.#St.width/this.#St.height>t?(this.#vt.width=this.stageWidth,this.#vt.height=Math.round(this.#St.height*(this.stageWidth/this.#St.width)),this.#vt.x=0,this.#vt.y=Math.round((this.stageHeight-this.#vt.height)/2)):(this.#vt.width=Math.round(this.#St.width*(this.stageHeight/this.#St.height)),this.#vt.height=this.stageHeight,this.#vt.x=Math.round((this.stageWidth-this.#vt.width)/2),this.#vt.y=0)}#Ht(){const t=Math.ceil(this.stageWidth/this.#l),s=Math.ceil(this.stageHeight/this.#l),i=this.ctx.getImageData(0,0,this.stageWidth,this.stageHeight);let e,a,r,n,o,c;this.#ft=[];for(let g=0;g<s;g++){a=(g+.5)*this.#l,a=Math.max(Math.min(a,this.stageHeight),0);for(let s=0;s<t;s++)e=(s+.5)*this.#l,e=Math.max(Math.min(e,this.stageWidth),0),c=4*(e+a*this.stageWidth),r=i.data[c+0],n=i.data[c+1],o=i.data[c+2],this.#ft.push(new h({x:e,y:a},this.#s,this.#l,`rgb(${r}, ${n}, ${o})`))}}animate(t){this.#Dt.animate(this.ctx),this.#wt.animate(t),this.#ft.forEach((t=>{return s=t.pos,i=this.#Pt,a=this.#Dt.radius,e(s,i)<=a&&t.animate(this.ctx);var s,i,a}))}onClick=t=>{this.clearCanvas(),this.#wt.hide(),this.#ft.forEach((t=>t.reset())),this.#At(),this.#Pt={x:t.offsetX,y:t.offsetY},this.#Dt.init(this.#vt,{x:t.offsetX,y:t.offsetY})};#At(){this.ctx.drawImage(this.#St,0,0,this.#St.width,this.#St.height,this.#vt.x,this.#vt.y,this.#vt.width,this.#vt.height)}}return s.default})()));