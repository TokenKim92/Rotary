/*! For license information please see typography-dot.min.js.LICENSE.txt */
!function(t,s){"object"==typeof exports&&"object"==typeof module?module.exports=s():"function"==typeof define&&define.amd?define([],s):"object"==typeof exports?exports.typography=s():(t.typography=t.typography||{},t.typography.Dot=s())}(self,(()=>(()=>{"use strict";var t={d:(s,i)=>{for(var e in i)t.o(i,e)&&!t.o(s,e)&&Object.defineProperty(s,e,{enumerable:!0,get:i[e]})},o:(t,s)=>Object.prototype.hasOwnProperty.call(t,s)},s={};t.d(s,{default:()=>l});class i{static EVEN_ODD_OFFSET=6;#t;#s;#i;constructor(t,s,i){this.#t=t,this.#s=s,this.#i=i}drawTextFrame(t,s,i,e){t.save(),t.font=this.#t.font,t.fillStyle=this.#i,t.textBaseline="middle";const a=t.measureText(s);return t.fillText(s,(i-a.width)/2,(e+a.actualBoundingBoxAscent-a.actualBoundingBoxDescent)/2),t.restore(),{textField:{left:(i-a.width)/2,top:(e-a.actualBoundingBoxAscent-a.actualBoundingBoxDescent)/2,width:a.width,height:a.actualBoundingBoxAscent+a.actualBoundingBoxDescent},dots:this.#e(t,i,e)}}#e(t,s,e){const a=t.getImageData(0,0,s,e).data,h=[];let o,n=0,r=0;for(let t=0;t<e;t+=this.#s)for(n=r++%2*i.EVEN_ODD_OFFSET;n<s;n+=this.#s)o=a[4*(n+t*s)+3],o&&h.push({x:n,y:t});return h}}const e=2*Math.PI;function a(t,s,i,e){const a=i-t,h=e-s;return Math.sqrt(a*a+h*h)}function h(t){const s=t.toLowerCase();if(s.includes("rgb")){const t=s.indexOf("("),i=s.indexOf(")"),e=s.substring(t+1,i).split(", ");return{r:e[0],g:e[1],b:e[2]}}}class o{static PLUCK_COUNT_OFFSET=1.5;#a;#h;#o;#n;#r;constructor(t,s=60){this.#a=t,this.#h=s}init(t,s,i){return this.#n=0,this.#r=this.#c(t,s,i),this.#o=this.#d(this.#r),Math.ceil(this.#r/this.#o)*o.PLUCK_COUNT_OFFSET}animate(){this.#n+=this.#o*(this.#n<this.#r)}#c(t,s,i){const e=a(i.left,i.top,t,s),h=a(i.left+i.width-1,i.top,t,s),o=a(i.left,i.top+i.height-1,t,s),n=a(i.left+i.width-1,i.top+i.height-1,t,s);return Math.max(e,h,o,n)}#d(t){return t/(1e3/this.#h*this.#a)}get radius(){return this.#n}}class n{static BOUNCE=.82;static FPS=15;static FPS_TIME=1e3/n.FPS;static FRICTION=.86;static RADIUS_OFFSET=.85;static INVALID=-1;#g;#l;#u;#m;#x;#p;#T;#y;#E;#I;#n;#M;#v;#f;constructor(t,s,i,e){this.#g=t,this.#l=s*n.RADIUS_OFFSET,this.#p=i,this.#x=e,this.#u=0,this.#m=[this.#l/n.FPS*-1,this.#l/n.FPS],this.init()}init(){this.#T=this.#p,this.#y={x:this.#g.x,y:this.#g.y},this.#E={vx:0,vy:0},this.#n=0,this.#M=0,this.#v=0,this.#I=this.#l+this.#m[this.#v],this.#f=n.INVALID}pluckAnimate(t){t.save(),t.fillStyle=`rgba(\n      ${this.#x.r}, \n      ${this.#x.g}, \n      ${this.#x.b}, \n      0.8)`,t.fillRect(this.#g.x-this.#n,this.#g.y-this.#n,2*this.#n,2*this.#n);const s=(this.#l-this.#n)/2;this.#M=(this.#M+s)*n.BOUNCE,this.#n+=this.#M,t.beginPath(),t.fillStyle=`rgb(\n      ${this.#T.r}, \n      ${this.#T.g}, \n      ${this.#T.b})`,t.arc(this.#g.x,this.#g.y,this.#n*n.RADIUS_OFFSET,0,e,!1),t.fill(),t.restore()}kineticAnimate(t,s){this.#D(s),this.#E.vx*=n.FRICTION,this.#E.vy*=n.FRICTION,this.#y.x+=this.#E.vx,this.#y.y+=this.#E.vy,t.beginPath(),t.fillStyle=`rgb(\n      ${this.#T.r}, \n      ${this.#T.g}, \n      ${this.#T.b})`,t.ellipse(this.#y.x,this.#y.y,this.#I,this.#n*n.RADIUS_OFFSET,0,0,e),t.fill()}#D(t){this.#u||(this.#u=t),t-this.#u>n.FPS_TIME&&(this.#u=t,this.#L())}#L(){if(this.#f>0){const t=Math.round(16777215*Math.random());this.#T={r:t>>16&255,g:t>>8&255,b:255&t},this.#f--}else this.#f!==n.INVALID&&(this.#T=this.#p,this.#f=n.INVALID);this.#I<1?this.#v=1:this.#I>=this.#n*n.RADIUS_OFFSET&&(this.#v=0),this.#I+=this.#m[this.#v]}collide(){this.#f=n.FPS}get posVelocity(){return this.#E}set posVelocity(t){this.#E=t}get pos(){return this.#y}}class r{static INIT_MODE=-1;static SMALL_MODE=0;static REGULAR_MODE=1;static MEDIUM_MODE=2;static LARGE_MODE=3;#P;#F;#S;#R;#C;#O;constructor(t=!1){this.#P=document.createElement("canvas"),this.#P.style.position="absolute",this.#F=this.#P.getContext("2d"),document.body.append(this.#P),this.#C=t,this.#C&&(this.#P.style.width="100%",this.#P.style.height="100%")}resize(t=0,s=0){this.#S=0===t?document.body.clientWidth:t,this.#R=0===s?document.body.clientHeight:s,this.#P.width=this.#S,this.#P.height=this.#R}clearCanvas(){this.#F.clearRect(0,0,this.#S,this.#R)}clearRect(t,s,i,e){this.#F.clearRect(t,s,i,e)}addEventToCanvas(t,s){this.#P.addEventListener(t,s)}removeEventFromCanvas(t,s){this.#P.removeEventListener(t,s)}bringToStage(){this.#O=!0,document.body.append(this.#P)}removeFromStage(){this.#O=!1,this.clearCanvas(),document.body.removeChild(this.#P)}setPosition(t,s){if(this.#C)throw new Error("Positioning is not possible in full screen mode.");this.#P.style.left=`${t}px`,this.#P.style.top=`${s}px`}hide(t=0,s="ease"){t?setTimeout((()=>{this.#P.style.opacity="0",this.#P.style.transition=`opacity ${t}ms  ${s}`,setTimeout((()=>this.#P.style.transition=""),t)}),t):this.#P.style.opacity="0"}show(t=0,s="ease"){t?setTimeout((()=>{this.#P.style.opacity="1",this.#P.style.transition=`opacity ${t}ms  ${s}`,setTimeout((()=>this.#P.style.transition=""),t)}),t):this.#P.style.opacity="1"}get stageWidth(){return this.#S}get stageHeight(){return this.#R}get ctx(){return this.#F}get isMatchMedia(){return this.sizeMode===r.SMALL_MODE}get isHeighResolution(){return this.sizeMode===r.LARGE_MODE}get sizeMode(){const t=[{mode:r.SMALL_MODE,size:768},{mode:r.REGULAR_MODE,size:1374},{mode:r.MEDIUM_MODE,size:1980},{mode:r.LARGE_MODE,size:3840}],s=t.filter((t=>!window.matchMedia(`(max-width: ${t.size}px)`).matches)).length;return t[s].mode}set backgroundColor(t){this.#P.style.background=t}set borderRadius(t){this.#P.style.borderRadius=`${t}px`}get isOnStage(){return this.#O}}class c{#A;#B;#b;#_;constructor(t,s,i,e){this.#A=t,this.#B=s,this.#b=i,this.#_=e}get width(){return this.#A}get size(){return this.#B}get name(){return this.#b}get color(){return this.#_}get font(){return`${this.#A} ${this.#B}px ${this.#b}`}}class d extends r{static TAB_TOGGLE_TIME=600;static TAB_THICKNESS=1;static BACK=-1;static FORWARD=1;static INIT=0;static TYPE=1;static MOVE=2;static DELETE=3;static DELAY=4;static FONT_HEIGHT_OFFSET=10;#w={msg:d.INIT,data:null};#N=[];#t;#o;#k=0;#H=0;#G=0;#z=!0;#g={x:0,y:0};#V="";#W=[];#U=0;#$=0;#Y=this.#K;#X=0;#j=!0;#Z;#q;#J=!1;#Q=null;constructor(t,s=50){super(),this.#t=t,this.#o=s,this.setStartPos(10,10),this.#W.push({...this.#g})}setStartPos(t,s){this.#g={x:t,y:s},this.#W=[],this.#W.push({...this.#g})}resize(t=0,s=0){super.resize(t,s),this.#tt(this.#t),this.init()}removeFromStage(){this.init(),super.removeFromStage()}init(){this.#w={msg:d.INIT,data:null},this.#N=[],this.#V="",this.#W=[],this.#W.push({...this.#g}),this.#U=0,this.#$=0,this.#Y=this.#K,this.#X=0,this.#j=!0,this.#Z="",this.#q=0,this.#J=!1}start(){this.#J=!0}stop(){this.#J=!1}animate(t){if(this.#J){if(this.#k=t,this.#w.msg===d.INIT&&(this.#w=0!==this.#N.length?this.#N.shift():this.#w,this.#Y=this.#st()),this.#it&&this.#et)return this.#Y(this.#w.data),void(this.#G=t);this.#at&&(this.#K(),this.#H=this.#k,this.#Q&&this.#ht&&this.#Q(this.data),this.#ot&&this.#nt&&(this.#w={msg:d.INIT,data:null}))}}setWaitingHandler(t,s){this.#Q=t,this.data=s}type(t,s=0){return this.#N.push({msg:d.TYPE,data:t}),s&&this.#N.push({msg:d.DELAY,data:s}),this}move(t,s=0){return this.#N.push({msg:d.MOVE,data:t}),s&&this.#N.push({msg:d.DELAY,data:s}),this}moveFront(t=0){return this.#N.push({msg:d.MOVE,data:Number.MIN_SAFE_INTEGER}),t&&this.#N.push({msg:d.DELAY,data:t}),this}moveEnd(t=0){return this.#N.push({msg:d.MOVE,data:Number.MAX_SAFE_INTEGER}),t&&this.#N.push({msg:d.DELAY,data:t}),this}delete(t,s=0){return this.#N.push({msg:d.DELETE,data:t}),s&&this.#N.push({msg:d.DELAY,data:s}),this}delay(t){return this.#N.push({msg:d.DELAY,data:t}),this}#st(){switch(this.#w.msg){case d.TYPE:return this.#rt(this.#w.data),this.#ct;case d.MOVE:return this.#dt(this.#w.data),this.#gt;case d.DELETE:return this.#lt(this.#w.data),this.#ut;case d.DELAY:this.#mt(this.#w.data);default:return this.#K}}#rt(t){const s=t.constructor!==Array?t:t.reduce(((s,i,e)=>s+(e!==t.length-1?i+"\n":i)),""),i=this.#V.slice(0,this.#U);this.#Z=this.#V.slice(this.#U),this.#V=i+s+this.#Z,this.#$=this.#U+s.length;const e=this.#Z.indexOf("\n");-1===e||(this.#Z=this.#Z.slice(0,e)),this.#xt(0)}#dt(t){this.#$+=t,this.#$>this.#V.length&&(this.#$=this.#V.length),this.#$<0&&(this.#$=0),this.#X=this.#w.data<0?d.BACK:d.FORWARD,this.#U===this.#$&&(this.#X=0),this.#$!==this.#V.length&&(this.#j=!1)}#lt(t){this.#$+=t,this.#$>this.#V.length&&(this.#$=this.#V.length),this.#X=this.#w.data<0?d.BACK:d.FORWARD}#mt(t){this.#q=this.#k+t}#xt(t){this.#W.splice(t,this.#W.length-t);let s=0===t?{...this.#g}:{...this.#W[t-1]};this.#W.push({...s});for(let i=t;i<this.#V.length;i++){const t=this.#V[i];s="\n"===t?this.#pt(s):{x:s.x+=this.ctx.measureText(t).width,y:s.y},this.#W.push({...s})}}#pt(t){return{x:this.#g.x,y:t.y+this.#t.size+d.FONT_HEIGHT_OFFSET}}#ct(){const t=this.#W[this.#U];this.#Tt(t),this.#j||this.#yt();const s=this.#V[this.#U],i=this.#j?s:s+this.#Z;this.ctx.fillText(i,t.x,t.y);const e=this.#W[this.#U+1];this.#Et(e),this.#U++,this.#It&&(this.#w={msg:d.INIT,data:null})}#gt(){const t=this.#W[this.#U];this.#Tt(t),this.#U+=this.#X;const s=this.#W[this.#U];this.#Et(s),this.#U===this.#V.length&&(this.#j=!0),this.#It&&(this.#w={msg:d.INIT,data:null})}#ut(){const t=this.#W[this.#U];this.#Tt(t),this.#yt(),this.#Z=this.#V.slice(this.#U+1),this.#V=this.#V.slice(0,this.#U)+this.#Z,this.#xt(this.#U+1),this.ctx.fillText(this.#Z,t.x,t.y),this.#$-=this.#X;const s=this.#W[this.#U];this.#Et(s),this.#It&&(this.#w={msg:d.INIT,data:null})}#K(){const t=this.#W[this.#U];this.#z?this.#Et(t):this.#Tt(t),this.#z=!this.#z}#Et(t){this.ctx.save(),this.ctx.imageSmoothingEnabled=!1,this.ctx.fillRect(t.x,t.y,d.TAB_THICKNESS,this.#t.size),this.ctx.restore()}#Tt(t){this.ctx.clearRect(t.x-1,t.y,d.TAB_THICKNESS+2,this.#t.size)}#yt(){const t=this.#W[this.#U],s=this.#W[this.#Mt];this.clearRect(t.x,t.y-d.FONT_HEIGHT_OFFSET,s.x,s.y+this.#t.size+d.FONT_HEIGHT_OFFSET)}#tt(t){this.ctx.textBaseline="top",this.ctx.font=t.font,this.ctx.fillStyle=t.color}get#Mt(){let t;for(t=this.#$;t<this.#V.length&&"\n"!==this.#V[t];t++);return t===this.#W.length&&t--,t}get#It(){return this.#U===this.#$}get#et(){return this.#o<this.#k-this.#G}get#at(){return d.TAB_TOGGLE_TIME<this.#k-this.#H}get#it(){return this.#w.msg!==d.INIT&&this.#w.msg!==d.DELAY}get#ot(){return this.#w.msg===d.DELAY}get#ht(){return this.#w.msg===d.INIT}get#nt(){return this.#q<this.#k}set fontFormat(t){this.#t=t,this.#tt(t)}}class g{#ct;#S;#R;#vt;#ft;#Dt;#Lt=!1;constructor(t,s=50,i="#ffffff",e="#000000cc"){this.#vt=t,this.#ft=i,this.#Dt=e,this.#ct=new d(new c(400,50,this.#vt,this.#ft),s),this.#ct.setWaitingHandler(this.hide,300),this.#ct.hide()}resize(){this.#ct.isMatchMedia?(this.#S=270,this.#R=150,this.#ct.fontFormat=new c(400,26,this.#vt,this.#ft),this.#ct.setStartPos(30,50)):(this.#S=560,this.#R=180,this.#ct.fontFormat=new c(400,35,this.#vt,this.#ft),this.#ct.setStartPos(60,55)),this.#ct.resize(this.#S,this.#R),this.#ct.setPosition((document.body.clientWidth-this.#S)/2,(document.body.clientHeight-this.#R)/2),this.#ct.borderRadius=15,this.#ct.backgroundColor=this.#Dt,this.setMessage()}animate(t){this.#ct.animate(t)}setMessage(){const t=this.#ct.isMatchMedia?["Touch anywhere","on the screen"]:["Click anywhere or","move the mouse on the screen"];this.#ct.delay(500).type(t,200).start()}show(t=0,s="ease"){this.#Lt=!1,this.#ct.isOnStage||this.#ct.bringToStage(),this.#ct.show(t,s)}hide=(t=0,s="ease")=>{this.#Lt||(this.#Lt=!0,this.#ct.hide(t,s),setTimeout((()=>this.#ct.isOnStage&&this.#ct.removeFromStage()),2*t))}}class l extends r{static RADIUS=10;static PIXEL_SIZE=2*l.RADIUS;static SMALL_DOT_RADIUS=4;static SMALL_MODE_PIXEL_SIZE=2*l.SMALL_DOT_RADIUS;static BG_COLOR="rgba(0, 0, 0)";static DOT_COLOR="rgb(255, 255, 255)";#Pt=[];#Ft=0;#St;#Rt={x:0,y:0};#V;#Ct;#Ot;#At=!1;#Bt={x:0,y:0,radius:100};#bt;#vt;#_t=r.INIT_MODE;#wt;#Nt;constructor(t,s,i=5,e=!1){super(!0),this.#V=s,this.#bt=e,this.#vt=t,this.ripple=new o(i),this.addEvents(),this.#Nt=new g(t,50,"#A494FF","#000000cc"),this.#Nt.show(300)}#kt(){if(this.sizeMode===this.#_t)return;this.#_t=this.sizeMode;let t=0;switch(this.sizeMode){case r.SMALL_MODE:t=250,this.#Bt.radius/=2;break;case r.REGULAR_MODE:t=400;break;case r.MEDIUM_MODE:t=700;break;case r.LARGE_MODE:t=800;break;default:throw new Error("This canvas size is not possible!")}const s=new c(800,t,this.#vt),e=this.isMatchMedia?l.SMALL_MODE_PIXEL_SIZE:l.PIXEL_SIZE;this.#wt=new i(s,e,l.BG_COLOR)}addEvents(){this.addEventToCanvas("click",this.onClick),document.addEventListener("pointermove",this.onMouseMove)}removeEvents(){this.removeEventFromCanvas("click",this.onClick),document.removeEventListener("pointermove",this.onMouseMove)}bringToStage(){super.bringToStage(),this.addEvents(),this.#Nt.setMessage(),this.#Nt.show(300)}removeFromStage(){this.#Nt.hide(),this.removeEvents(),super.removeFromStage()}resize=()=>{var t;super.resize(),this.#kt(),this.addDotItemOnTextField(),this.isMatchMedia?this.onClick({offsetX:0,offsetY:0}):this.onClick({offsetX:(t=this.#Ot).left+Math.random()*t.width,offsetY:t.top+Math.random()*t.height}),this.#Nt.resize()};animate(t){this.#At?this.KineticAnimate(t):this.pluckAnimate(),this.#Nt.animate(t)}onClick=t=>{var s,i;this.isMatchMedia&&(s={x:t.offsetX,y:t.offsetY},(i=this.#Ot).left<=s.x&&s.x<=i.left+i.width-1&&i.top<=s.y&&s.y<=i.top+i.height-1)||(this.#Pt.forEach((t=>t.init())),this.#Ft=0,this.#Rt={x:t.offsetX,y:t.offsetY},this.#St=this.ripple.init(this.#Rt.x,this.#Rt.y,this.#Ot),this.clearCanvas(),this.#At=!1)};onMouseMove=t=>{this.#Bt.x=t.clientX,this.#Bt.y=t.clientY};pluckAnimate(){this.ripple.animate(),this.#Pt.filter((t=>{return s=t.pos,i=this.#Rt,e=this.ripple.radius,a(s.x,s.y,i.x,i.y)<=e;var s,i,e})).forEach((t=>t.pluckAnimate(this.ctx))),this.#Ft>=this.#St?this.#At=!0:this.#Ft++}KineticAnimate(t){let s,i,e,a,h,o,n,r,c;this.clearCanvas(),this.#Pt.forEach((d=>{s=this.#Bt.x-d.pos.x,i=this.#Bt.y-d.pos.y,e=Math.sqrt(s*s+i*i),a=l.RADIUS+this.#Bt.radius,e<a&&(h=Math.atan2(i,s),o=d.pos.x+Math.cos(h)*a,n=d.pos.y+Math.sin(h)*a,r=o-this.#Bt.x,c=n-this.#Bt.y,d.posVelocity.vx-=r,d.posVelocity.vy-=c,d.collide()),d.kineticAnimate(this.ctx,t)}))}addDotItemOnTextField(){this.#Pt=[],this.#Ct=this.#bt?function(t){const s=t.split("");return s[Math.round(Math.random()*(s.length-1))]}(this.#V):this.#V,this.clearCanvas();const t=this.#wt.drawTextFrame(this.ctx,this.#Ct,this.stageWidth,this.stageHeight),s=t.dots;this.#Ot=t.textField;const i=this.isMatchMedia?l.SMALL_DOT_RADIUS:l.RADIUS;s.forEach((t=>{this.#Pt.push(new n(t,i,h(l.DOT_COLOR),h(l.BG_COLOR)))}))}}return s.default})()));