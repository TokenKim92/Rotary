/*! For license information please see typography-dot.min.js.LICENSE.txt */
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.typography=i():(t.typography=t.typography||{},t.typography.Dot=i())}(self,(()=>(()=>{"use strict";var t={d:(i,s)=>{for(var e in s)t.o(s,e)&&!t.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:s[e]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i)},i={};t.d(i,{default:()=>d});class s{static EVEN_ODD_OFFSET=6;#t;#i;#s;constructor(t,i,s){this.#t=t,this.#i=i,this.#s=s}drawTextFrame(t,i,s,e){t.save(),t.font=this.#t.font,t.fillStyle=this.#s,t.textBaseline="middle";const o=t.measureText(i);return t.fillText(i,(s-o.width)/2,(e+o.actualBoundingBoxAscent-o.actualBoundingBoxDescent)/2),t.restore(),{textField:{left:(s-o.width)/2,top:(e-o.actualBoundingBoxAscent-o.actualBoundingBoxDescent)/2,width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent},dots:this.#e(t,s,e)}}#e(t,i,e){const o=t.getImageData(0,0,i,e).data,a=[];let h,n=0,r=0;for(let t=0;t<e;t+=this.#i)for(n=r++%2*s.EVEN_ODD_OFFSET;n<i;n+=this.#i)h=o[4*(n+t*i)+3],h&&a.push({x:n,y:t});return a}}const e=2*Math.PI;function o(t,i,s,e){const o=s-t,a=e-i;return Math.sqrt(o*o+a*a)}function a(t){const i=t.toLowerCase();if(i.includes("rgb")){const t=i.indexOf("("),s=i.indexOf(")"),e=i.substring(t+1,s).split(", ");return{r:e[0],g:e[1],b:e[2]}}}class h{static PLUCK_COUNT_OFFSET=1.5;#o;#a;#h;#n;#r;constructor(t,i=60){this.#o=t,this.#a=i}init(t,i,s){return this.#n=0,this.#r=this.#c(t,i,s),this.#h=this.#d(this.#r),Math.ceil(this.#r/this.#h)*h.PLUCK_COUNT_OFFSET}animate(){this.#n+=this.#h*(this.#n<this.#r)}#c(t,i,s){const e=o(s.left,s.top,t,i),a=o(s.left+s.width-1,s.top,t,i),h=o(s.left,s.top+s.height-1,t,i),n=o(s.left+s.width-1,s.top+s.height-1,t,i);return Math.max(e,a,h,n)}#d(t){return t/(1e3/this.#a*this.#o)}get radius(){return this.#n}}class n{static BOUNCE=.82;static FPS=15;static FPS_TIME=1e3/n.FPS;static FRICTION=.86;static RADIUS_OFFSET=.85;static INVALID=-1;#l;#u;#g;#p;#m;#x;#v;#y;#M;#R;#n;#f;#E;#S;constructor(t,i,s,e){this.#l=t,this.#u=i*n.RADIUS_OFFSET,this.#x=s,this.#m=e,this.#g=0,this.#p=[this.#u/n.FPS*-1,this.#u/n.FPS],this.init()}init(){this.#v=this.#x,this.#y={x:this.#l.x,y:this.#l.y},this.#M={vx:0,vy:0},this.#n=0,this.#f=0,this.#E=0,this.#R=this.#u+this.#p[this.#E],this.#S=n.INVALID}pluckAnimate(t){t.save(),t.fillStyle=`rgba(\n      ${this.#m.r}, \n      ${this.#m.g}, \n      ${this.#m.b}, \n      0.8)`,t.fillRect(this.#l.x-this.#n,this.#l.y-this.#n,2*this.#n,2*this.#n);const i=(this.#u-this.#n)/2;this.#f=(this.#f+i)*n.BOUNCE,this.#n+=this.#f,t.beginPath(),t.fillStyle=`rgb(\n      ${this.#v.r}, \n      ${this.#v.g}, \n      ${this.#v.b})`,t.arc(this.#l.x,this.#l.y,this.#n*n.RADIUS_OFFSET,0,e,!1),t.fill(),t.restore()}kineticAnimate(t,i){this.#D(i),this.#M.vx*=n.FRICTION,this.#M.vy*=n.FRICTION,this.#y.x+=this.#M.vx,this.#y.y+=this.#M.vy,t.beginPath(),t.fillStyle=`rgb(\n      ${this.#v.r}, \n      ${this.#v.g}, \n      ${this.#v.b})`,t.ellipse(this.#y.x,this.#y.y,this.#R,this.#n*n.RADIUS_OFFSET,0,0,e),t.fill()}#D(t){this.#g||(this.#g=t),t-this.#g>n.FPS_TIME&&(this.#g=t,this.#F())}#F(){if(this.#S>0){const t=Math.round(16777215*Math.random());this.#v={r:t>>16&255,g:t>>8&255,b:255&t},this.#S--}else this.#S!==n.INVALID&&(this.#v=this.#x,this.#S=n.INVALID);this.#R<1?this.#E=1:this.#R>=this.#n*n.RADIUS_OFFSET&&(this.#E=0),this.#R+=this.#p[this.#E]}collide(){this.#S=n.FPS}get posVelocity(){return this.#M}set posVelocity(t){this.#M=t}get pos(){return this.#y}}class r{static INIT_MODE=-1;static SMALL_MODE=0;static REGULAR_MODE=1;static MEDIUM_MODE=2;static LARGE_MODE=3;#C;#T;#O;#B;#I;constructor(t=!1){this.#C=document.createElement("canvas"),this.#C.style.position="absolute",this.#T=this.#C.getContext("2d"),document.body.append(this.#C),this.#I=t,this.#I&&(this.#C.style.width="100%",this.#C.style.height="100%")}resize(t=0,i=0){this.#O=0===t?document.body.clientWidth:t,this.#B=0===i?document.body.clientHeight:i,this.#C.width=this.#O,this.#C.height=this.#B}clearCanvas(){this.#T.clearRect(0,0,this.#O,this.#B)}clearRect(t,i,s,e){this.#T.clearRect(t,i,s,e)}addEventToCanvas(t,i){this.#C.addEventListener(t,i)}removeEventFromCanvas(t,i){this.#C.removeEventListener(t,i)}bringToStage(){document.body.append(this.#C)}removeFromStage(){this.clearCanvas(),document.body.removeChild(this.#C)}setPosition(t,i){if(this.#I)throw new Error("Positioning is not possible in full screen mode.");this.#C.style.left=`${t}px`,this.#C.style.top=`${i}px`}hide(t=0,i="ease"){t?setTimeout((()=>{this.#C.style.opacity="0",this.#C.style.transition=`opacity ${t}ms  ${i}`,setTimeout((()=>this.#C.style.transition=""),t)}),t):this.#C.style.opacity="0"}show(t=0,i="ease"){t?setTimeout((()=>{this.#C.style.opacity="1",this.#C.style.transition=`opacity ${t}ms  ${i}`,setTimeout((()=>this.#C.style.transition=""),t)}),t):this.#C.style.opacity="1"}get stageWidth(){return this.#O}get stageHeight(){return this.#B}get ctx(){return this.#T}get isMatchMedia(){return this.sizeMode===r.SMALL_MODE}get isHeighResolution(){return this.sizeMode===r.LARGE_MODE}get sizeMode(){const t=[{mode:r.SMALL_MODE,size:768},{mode:r.REGULAR_MODE,size:1374},{mode:r.MEDIUM_MODE,size:1980},{mode:r.LARGE_MODE,size:3840}],i=t.filter((t=>!window.matchMedia(`(max-width: ${t.size}px)`).matches)).length;return t[i].mode}set backgroundColor(t){this.#C.style.background=t}set borderRadius(t){this.#C.style.borderRadius=`${t}px`}}class c{#_;#b;#A;constructor(t,i,s){this.#_=t,this.#b=i,this.#A=s}get width(){return this.#_()}get size(){return this.#_()}get size(){return this.#_()}get font(){return`${this.#_} ${this.#b}px ${this.#A}`}}class d extends r{static RADIUS=10;static PIXEL_SIZE=2*d.RADIUS;static SMALL_DOT_RADIUS=4;static SMALL_MODE_PIXEL_SIZE=2*d.SMALL_DOT_RADIUS;static BG_COLOR="rgba(0, 0, 0)";static DOT_COLOR="rgb(255, 255, 255)";#L=[];#P=0;#w;#k={x:0,y:0};#G;#z;#U;#V=!1;#$={x:0,y:0,radius:100};#N;#H;#W=r.INIT_MODE;constructor(t,i,s=5,e=!1){super(!0),this.#G=i,this.#N=e,this.#H=t,this.ripple=new h(s),this.#X(),this.initEvents()}#X(){if(this.sizeMode===this.#W)return;this.#W=this.sizeMode;let t=0;switch(this.sizeMode){case r.SMALL_MODE:t=250,this.#$.radius/=2;break;case r.REGULAR_MODE:t=400;break;case r.MEDIUM_MODE:t=700;break;case r.LARGE_MODE:t=800;break;default:throw new Error("This canvas size is not possible!")}const i=new c(800,t,this.#H),e=this.isMatchMedia?d.SMALL_MODE_PIXEL_SIZE:d.PIXEL_SIZE;this.textFrame=new s(i,e,d.BG_COLOR)}initEvents(){this.addEventToCanvas("click",this.onClick),document.addEventListener("pointermove",this.onMouseMove)}removeEvents(){this.removeEventFromCanvas("click",this.onClick),document.removeEventListener("pointermove",this.onMouseMove)}bringToStage(){super.bringToStage(),this.initEvents()}removeFromStage(){this.removeEvents(),super.removeFromStage()}resize=()=>{var t;super.resize(),this.#X(),this.addDotItemOnTextField(),this.isMatchMedia?this.onClick({offsetX:0,offsetY:0}):this.onClick({offsetX:(t=this.#U).left+Math.random()*t.width,offsetY:t.top+Math.random()*t.height})};animate(t){this.#V?this.KineticAnimate(t):this.pluckAnimate()}onClick=t=>{var i,s;this.isMatchMedia&&(i={x:t.offsetX,y:t.offsetY},(s=this.#U).left<=i.x&&i.x<=s.left+s.width-1&&s.top<=i.y&&i.y<=s.top+s.height-1)||(this.#L.forEach((t=>t.init())),this.#P=0,this.#k={x:t.offsetX,y:t.offsetY},this.#w=this.ripple.init(this.#k.x,this.#k.y,this.#U),this.clearCanvas(),this.textFrame.drawTextFrame(this.ctx,this.#z,this.stageWidth,this.stageHeight),this.#V=!1)};onMouseMove=t=>{this.#$.x=t.clientX,this.#$.y=t.clientY};pluckAnimate(){this.ripple.animate(),this.#L.filter((t=>{return i=t.pos,s=this.#k,e=this.ripple.radius,o(i.x,i.y,s.x,s.y)<=e;var i,s,e})).forEach((t=>t.pluckAnimate(this.ctx))),this.#P>=this.#w?this.#V=!0:this.#P++}KineticAnimate(t){let i,s,e,o,a,h,n,r,c;this.clearCanvas(),this.#L.forEach((l=>{i=this.#$.x-l.pos.x,s=this.#$.y-l.pos.y,e=Math.sqrt(i*i+s*s),o=d.RADIUS+this.#$.radius,e<o&&(a=Math.atan2(s,i),h=l.pos.x+Math.cos(a)*o,n=l.pos.y+Math.sin(a)*o,r=h-this.#$.x,c=n-this.#$.y,l.posVelocity.vx-=r,l.posVelocity.vy-=c,l.collide()),l.kineticAnimate(this.ctx,t)}))}addDotItemOnTextField(){this.#L=[],this.#z=this.#N?function(t){const i=t.split("");return i[Math.round(Math.random()*(i.length-1))]}(this.#G):this.#G,this.clearCanvas();const t=this.textFrame.drawTextFrame(this.ctx,this.#z,this.stageWidth,this.stageHeight),i=t.dots;this.#U=t.textField;const s=this.isMatchMedia?d.SMALL_DOT_RADIUS:d.RADIUS;i.forEach((t=>{this.#L.push(new n(t,s,a(d.DOT_COLOR),a(d.BG_COLOR)))}))}}return i.default})()));