/*! For license information please see duplication.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DuplicateDraw=e():t.DuplicateDraw=e()}(self,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>c});class i{static INIT_MODE=-1;static SMALL_MODE=0;static REGULAR_MODE=1;static MEDIUM_MODE=2;static LARGE_MODE=3;#t;#e;#i;#s;#a;constructor(t=!1){this.#t=document.createElement("canvas"),this.#t.style.position="absolute",this.#e=this.#t.getContext("2d"),document.body.append(this.#t),this.#a=t,this.#a&&(this.#t.style.width="100%",this.#t.style.height="100%")}resize(t=0,e=0){this.#i=0===t?document.body.clientWidth:t,this.#s=0===e?document.body.clientHeight:e,this.#t.width=this.#i,this.#t.height=this.#s}clearCanvas(){this.#e.clearRect(0,0,this.#i,this.#s)}clearRect(t,e,i,s){this.#e.clearRect(t,e,i,s)}addEventToCanvas(t,e){this.#t.addEventListener(t,e)}removeEventFromCanvas(t,e){this.#t.removeEventListener(t,e)}bringToStage(){document.body.append(this.#t)}removeFromStage(){this.clearCanvas(),document.body.removeChild(this.#t)}setPosition(t,e){if(this.#a)throw new Error("Positioning is not possible in full screen mode.");this.#t.style.left=`${t}px`,this.#t.style.top=`${e}px`}hide(t=0,e="ease"){t?setTimeout((()=>{this.#t.style.opacity="0",this.#t.style.transition=`opacity ${t}ms  ${e}`,setTimeout((()=>this.#t.style.transition=""),t)}),t):this.#t.style.opacity="0"}show(t=0,e="ease"){t?setTimeout((()=>{this.#t.style.opacity="1",this.#t.style.transition=`opacity ${t}ms  ${e}`,setTimeout((()=>this.#t.style.transition=""),t)}),t):this.#t.style.opacity="1"}get stageWidth(){return this.#i}get stageHeight(){return this.#s}get ctx(){return this.#e}get isMatchMedia(){return this.sizeMode===i.SMALL_MODE}get isHeighResolution(){return this.sizeMode===i.LARGE_MODE}get sizeMode(){const t=[{mode:i.SMALL_MODE,size:768},{mode:i.REGULAR_MODE,size:1374},{mode:i.MEDIUM_MODE,size:1980},{mode:i.LARGE_MODE,size:3840}],e=t.filter((t=>!window.matchMedia(`(max-width: ${t.size}px)`).matches)).length;return t[e].mode}set backgroundColor(t){this.#t.style.background=t}set borderRadius(t){this.#t.style.borderRadius=`${t}px`}}class s{#h;#r;#c;#o;constructor(t,e,i,s){this.#h=t,this.#r=e,this.#c=i,this.#o=s}get width(){return this.#h}get size(){return this.#r}get name(){return this.#c}get color(){return this.#o}get font(){return`${this.#h} ${this.#r}px ${this.#c}`}}class a{#n;#g;#h;#m;constructor(t,e,i,s){this.#n=t,this.#g=e,this.#h=i,this.#m=s}get x(){return this.#n}set x(t){this.#n=t}get y(){return this.#g}set y(t){this.#g=t}get width(){return this.#h}set width(t){this.#n=x}get height(){return this.#m}set height(t){this.#m=t}}const h=2*Math.PI;class r extends i{static LINE_COLOR="rgb(0, 0, 0)";static BG_THICKNESS=6;static BG_HALF_THICKNESS=r.BG_THICKNESS/2;static BG_COLOR="rgba(255, 255, 255, 0.9)";static TITLE="GOGH";static SUB_TITLE="Inspired by 'Interactive Developer'";#d=[];#l;#u;#x;#R;#p;#I;#T;#S=i.INIT_MODE;constructor(t,e){super(),this.#d=t,this.#R=e,this.#T=0,this.nextImage()}nextImage(){this.#l=this.#d[this.#T],this.#T=(this.#T+1)%this.#d.length,this.resize()}resize(){super.resize(),this.#E(),this.#M()}#E(){if(this.#S===this.sizeMode)return;this.#S=this.sizeMode;let t=0,e=0;switch(this.sizeMode){case i.SMALL_MODE:t=100,e=20;break;case i.REGULAR_MODE:t=200,e=30;break;case i.MEDIUM_MODE:t=300,e=40;break;case i.LARGE_MODE:t=400,e=50;break;default:throw new Error("This canvas size is not possible!")}this.#p=new s(800,t,"Arial"),this.#I=new s(600,e,"Arial")}#M(){const t=Math.floor(this.stageWidth/4),e=t/2;if(this.#u=new a(e,this.stageHeight,t,t*(this.#l.height/this.#l.width)),this.#l.width>this.#l.height){const t=this.stageWidth/this.#u.width;this.#x={x:0,y:Math.round((this.stageHeight-this.#u.height*t)/2),ratio:t}}else{const t=this.stageHeight/this.#u.height;this.#x={x:Math.round((this.stageWidth-this.#u.width*t)/2),y:0,ratio:t}}}getImgParticleInfo(){this.ctx.drawImage(this.#l,0,0,this.#l.width,this.#l.height,0,0,this.#u.width,this.#u.height);const t=this.ctx.getImageData(0,0,this.#u.width,this.#u.height).data;let e,i=[];for(let s=0;s<this.#u.height;s++)for(let a=0;a<this.#u.width;a++)e=4*(a+s*this.#u.width),i.push({x:a*this.#x.ratio+this.#x.x,y:s*this.#x.ratio+this.#x.y,color:`rgb(${t[e]}, ${t[e+1]}, ${t[e+2]})`});return this.clearCanvas(),i}drawLineToParticle(t){this.ctx.save(),this.ctx.strokeStyle=r.LINE_COLOR,this.ctx.beginPath();const e={x:this.#u.x+(t.x-this.#x.x)/this.#x.ratio,y:this.#u.y+(t.y-this.#x.y)/this.#x.ratio};this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(e.x,e.y),this.ctx.stroke(),this.ctx.fillStyle=t.color,this.ctx.beginPath(),this.ctx.arc(e.x,e.y,4,0,h),this.ctx.fill(),this.ctx.restore()}drawMovingImage(){this.#v(),this.#y(),this.#w(),this.ctx.drawImage(this.#l,0,0,this.#l.width,this.#l.height,this.#u.x,this.#u.y,this.#u.width,this.#u.height),this.#u.y-=this.#R}#v(){this.ctx.save(),this.ctx.font=this.#p.font,this.ctx.fillStyle=r.BG_COLOR;const t=this.ctx.measureText(r.TITLE);this.ctx.fillText(r.TITLE,(this.stageWidth-t.width)/2,(this.stageHeight+t.actualBoundingBoxAscent-t.actualBoundingBoxDescent)/2),this.ctx.restore()}#y(){this.ctx.save(),this.ctx.font=this.#I.font,this.ctx.fillStyle=r.BG_COLOR,this.ctx.textBaseline="middle";const t=this.ctx.measureText(r.SUB_TITLE);this.ctx.fillText(r.SUB_TITLE,(this.stageWidth-t.width)/2,50),this.ctx.restore()}#w(){this.ctx.save(),this.ctx.fillStyle=r.BG_COLOR,this.ctx.fillRect(this.#u.x-r.BG_HALF_THICKNESS,this.#u.y-r.BG_HALF_THICKNESS,this.#u.width+r.BG_THICKNESS,this.#u.height+r.BG_THICKNESS),this.ctx.restore()}get isDisappeared(){return this.#u.y+1.2*this.#u.height<0}}class c extends i{static MAX_CIRCLES_PER_FRAME=10;static IMAGE_MOVING_SPEED=2;static FPS=10;static FPS_TIME=1e3/c.FPS;static SETTING_VELOCITY=1.03;#F=null;#_;#L;#f;#G;#b;#O;#P;#C;constructor(t){super();const e=t.constructor!==Array?new Array(t):t;let i=0,s=[];e.forEach((t=>{const a=new Image;a.src=t,a.onload=()=>{s.push(a),i++,i===e.length&&(this.#F=new r(s,c.IMAGE_MOVING_SPEED),this.resize())}}))}bringToStage(){this.resize(),super.bringToStage(),this.#F&&this.#F.bringToStage()}removeFromStage(){this.#F&&this.#F.removeFromStage(),super.removeFromStage()}resize(){super.resize(),this.#F&&this.#F.resize(),this.init()}init(){this.#f=0,this.#G=1,this.#b=2,this.#O=.2,this.#P=this.sizeMode===i.SMALL_MODE?100:200,this.#C=this.sizeMode===i.SMALL_MODE?5:10,this.#L=[],this.#F&&(this.#L=this.#F.getImgParticleInfo()),this.#_=this.#L.length>1?this.#L.length-1:0}animate(t){this.#D(t),this.#w(),this.#F&&this.#F.isDisappeared&&this.#z()}#D(t){this.#f?c.FPS_TIME<t-this.#f&&(this.#A(),this.#B(),this.#f=t):this.#f=t}#A(){this.#b*=c.SETTING_VELOCITY,this.#P>this.#C+this.#b&&(this.#P-=this.#b)}#B(){this.#O*=c.SETTING_VELOCITY,this.#G<c.MAX_CIRCLES_PER_FRAME-this.#O&&(this.#G+=this.#O)}#w(){if(!this.#F)return;this.#F.clearCanvas(),this.#F.drawMovingImage();let t,e,i=0;for(let s=0;s<this.#G;s++)i=Math.round(Math.random()*this.#_),t=this.#L[i],e=s%2,this.#H(t),e&&this.#F.drawLineToParticle(t)}#H(t){let e;e=Math.random()*this.#P+this.#C,this.ctx.beginPath(),this.ctx.fillStyle=t.color,this.ctx.arc(t.x,t.y,e,0,h),this.ctx.fill()}#z(){this.clearCanvas(),this.#F.nextImage(),this.init()}}return e.default})()));