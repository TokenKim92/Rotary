/*! For license information please see rotary.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.RotaryCover=e():t.RotaryCover=e()}(self,(()=>(()=>{"use strict";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>m});const s=Math.PI,i=2*Math.PI,r=-1,a=!0,o=.5;function h(t,e){return e.x<=t.x&&t.x<=e.x+e.w&&e.y<=t.y&&t.y<=e.y+e.h}function n(t){return t===a}function c(t){return t===r}class d{static COVER_RECT={x:-110,y:-150,w:220,h:300};static FONT_NAME="Abril Fatface";static FONT_COLOR="rgb(255, 255, 255)";static TEXT_PADDING=10;static MAIN_FONT_WIDTH=20;static MAIN_FONT_SIZE=30;static SUB_FONT_WIDTH=8;static SUB_FONT_SIZE=8;static SUBTITLE=["A","COLLECTION OF","INTERACTIVE","HTML 5","PROJECT"];static CONTACT_LINK="github.com/TokenKim92";static AUTHOR="Token Kim";static SHADOW_SIZE=6;static BRIGHTNESS_OFFSET=30;#t;#e;#s;#i;constructor(t,e,s,i){this.#t=t,this.#e=e,this.#s=s,this.#i=i}animate=(t,e=!1)=>{this.#r(t),this.#a(t,e),this.#o(t)};#r(t){t.fillStyle="rgba(100, 100, 100, 0.05)",t.fillRect(d.COVER_RECT.x+d.SHADOW_SIZE,d.COVER_RECT.y+d.SHADOW_SIZE,d.COVER_RECT.w+d.SHADOW_SIZE,d.COVER_RECT.h+d.SHADOW_SIZE)}#a(t,e){const s=e?`rgb(\n      ${this.#i.r+d.BRIGHTNESS_OFFSET}, \n      ${this.#i.g+d.BRIGHTNESS_OFFSET}, \n      ${this.#i.b+d.BRIGHTNESS_OFFSET})`:`rgb(\n        ${this.#i.r}, \n        ${this.#i.g}, \n        ${this.#i.b})`;t.fillStyle=s,t.fillRect(d.COVER_RECT.x,d.COVER_RECT.y,d.COVER_RECT.w,d.COVER_RECT.h)}#o(t){t.fillStyle=d.FONT_COLOR,this.#h(t),this.#n(t),this.#c(t),this.#d(t)}#h(t){t.font=`\n    ${d.MAIN_FONT_WIDTH} \n    ${d.MAIN_FONT_SIZE}px \n    ${d.FONT_NAME}`,t.textBaseline="top",t.textAlign="left",t.fillText(this.#t,d.COVER_RECT.x+d.TEXT_PADDING,d.COVER_RECT.y+2*d.TEXT_PADDING)}#n(t){t.font=`\n    ${d.MAIN_FONT_WIDTH} \n    ${d.MAIN_FONT_SIZE}px \n    ${d.FONT_NAME}`,t.textBaseline="bottom",t.textAlign="left",t.fillText(this.#e,d.COVER_RECT.x+d.TEXT_PADDING,d.COVER_RECT.y+d.COVER_RECT.h-d.TEXT_PADDING)}#c(t){t.font=`\n    ${d.SUB_FONT_WIDTH} \n    ${d.SUB_FONT_SIZE}px \n    ${d.FONT_NAME}`,t.textBaseline="top",t.textAlign="right",t.fillText(this.#s.month,d.COVER_RECT.x+d.COVER_RECT.w-d.TEXT_PADDING,d.COVER_RECT.y+d.TEXT_PADDING),t.fillText(this.#s.year,d.COVER_RECT.x+d.COVER_RECT.w-d.TEXT_PADDING,d.COVER_RECT.y+d.TEXT_PADDING+d.SUB_FONT_SIZE)}#d(t){t.font=`\n    ${d.SUB_FONT_WIDTH} \n    ${d.SUB_FONT_SIZE}px \n    ${d.FONT_NAME}`,t.textBaseline="bottom",t.textAlign="right";const e=d.SUBTITLE.length+3;d.SUBTITLE.forEach(((s,i)=>{t.fillText(s,d.COVER_RECT.x+d.COVER_RECT.w-d.TEXT_PADDING,d.COVER_RECT.y+d.COVER_RECT.h-d.TEXT_PADDING-d.SUB_FONT_SIZE*(e-i))})),t.fillText(d.CONTACT_LINK,d.COVER_RECT.x+d.COVER_RECT.w-d.TEXT_PADDING,d.COVER_RECT.y+d.COVER_RECT.h-d.TEXT_PADDING-d.SUB_FONT_SIZE*(e-d.SUBTITLE.length-1)),t.fillText(d.AUTHOR,d.COVER_RECT.x+d.COVER_RECT.w-d.TEXT_PADDING,d.COVER_RECT.y+d.COVER_RECT.h-d.TEXT_PADDING)}get title(){return this.#t}get createdDate(){return this.#s}}class l{static INIT_MODE=-1;static SMALL_MODE=0;static REGULAR_MODE=1;static MEDIUM_MODE=2;static LARGE_MODE=3;#l;#g;#u;#T;#E;constructor(t=!1){this.#l=document.createElement("canvas"),this.#l.style.position="absolute",this.#g=this.#l.getContext("2d"),document.body.append(this.#l),this.#E=t,this.#E&&(this.#l.style.width="100%",this.#l.style.height="100%")}resize(t=0,e=0){this.#u=0===t?document.body.clientWidth:t,this.#T=0===e?document.body.clientHeight:e,this.#l.width=this.#u,this.#l.height=this.#T}clearCanvas(){this.#g.clearRect(0,0,this.#u,this.#T)}clearRect(t,e,s,i){this.#g.clearRect(t,e,s,i)}addEventToCanvas(t,e){this.#l.addEventListener(t,e)}removeEventFromCanvas(t,e){this.#l.removeEventListener(t,e)}bringToStage(){document.body.append(this.#l)}removeFromStage(){this.clearCanvas(),document.body.removeChild(this.#l)}setPosition(t,e){if(this.#E)throw new Error("Positioning is not possible in full screen mode.");this.#l.style.left=`${t}px`,this.#l.style.top=`${e}px`}hide(t=0,e="ease"){t?setTimeout((()=>{this.#l.style.opacity="0",this.#l.style.transition=`opacity ${t}ms  ${e}`,setTimeout((()=>this.#l.style.transition=""),t)}),t):this.#l.style.opacity="0"}show(t=0,e="ease"){t?setTimeout((()=>{this.#l.style.opacity="1",this.#l.style.transition=`opacity ${t}ms  ${e}`,setTimeout((()=>this.#l.style.transition=""),t)}),t):this.#l.style.opacity="1"}get stageWidth(){return this.#u}get stageHeight(){return this.#T}get ctx(){return this.#g}get isMatchMedia(){return this.sizeMode===l.SMALL_MODE}get isHeighResolution(){return this.sizeMode===l.LARGE_MODE}get sizeMode(){const t=[{mode:l.SMALL_MODE,size:768},{mode:l.REGULAR_MODE,size:1374},{mode:l.MEDIUM_MODE,size:1980},{mode:l.LARGE_MODE,size:3840}],e=t.filter((t=>!window.matchMedia(`(max-width: ${t.size}px)`).matches)).length;return t[e].mode}set backgroundColor(t){this.#l.style.background=t}set borderRadius(t){this.#l.style.borderRadius=`${t}px`}}class g extends l{static ANIMATION_DURATION=20;static DISAPPEAR_VELOCITY=1.1;#p;#I;#m=1;#v;#C=0;#x=1;#D={x:0,y:0};#R=a;#S;constructor(){super(!0)}init(t){this.#p=t,this.#C=this.stageWidth/2,this.#D={x:this.stageWidth/2,y:this.stageHeight/2}}animate(){n(this.#_)||this.#y(),n(this.#O)||this.#P(),n(this.#O)&&!n(this.#R)&&this.#S&&this.#S(),this.#R=this.#O}#y(){this.#A(),this.#m+=this.#v}#P(){this.#A(),this.#x*=g.DISAPPEAR_VELOCITY,this.#D.x-=this.#x}set onDisappearedHandler(t){this.#S=t}#A(){this.ctx.save(),this.clearCanvas(),this.ctx.translate(this.#D.x,this.#D.y),this.isMatchMedia&&this.ctx.scale(o,o),this.ctx.scale(this.#m,this.#m),this.#p&&this.#p.animate(this.ctx),this.ctx.restore()}get#_(){return!!(this.#v>=0&&this.#m>=this.#I||this.#v<0&&this.#m<=this.#I)&&a}get#O(){return!!(this.#D.x<=this.#C)&&a}setTargetRatio(t,e){this.#m=t,this.#I=e,this.#v=(this.#I-this.#m)/g.ANIMATION_DURATION}disappearToLeft(){this.#C=d.COVER_RECT.w*this.#I*-1,this.#x=1}reset(){this.#m=this.#I,this.clearCanvas()}}class u extends l{static FPS=30;static FPS_TIME=1e3/u.FPS;#N;#f;constructor(){super(!0)}resize(){super.resize(),this.#N=0,this.#f=this.stageWidth/u.FPS_TIME}on(){return this.ctx.save(),this.ctx.fillStyle="black",this.#N+=this.#f,this.ctx.fillRect(0,0,this.#N,this.stageHeight),this.ctx.restore(),this.#N>=this.stageWidth}off(){return this.#N-=this.#f,this.clearCanvas(),this.ctx.fillRect(0,0,this.#N,this.stageHeight),this.#N<=0}}class T extends l{static START_DEGREE=90;static START_RADIAN=-T.START_DEGREE*s/180;static FPS=60;static FPS_TIME=1e3/T.FPS;static INIT_PROGRESS=0;static TOTAL_PROGRESS_LENGTH=360;static INIT_LINE_WIDTH=5;static ALPHA_INCREASING_SPEED=.03;#L;#M;#w;#B;#F;#b;#H=T.TOTAL_PROGRESS_LENGTH+1;#G=0;#W=a;#k=!1;#V=0;#j=a;#U;constructor(t,e,s){super(),super.resize(t,t),this.#L={x:t/2,y:t/2},this.#w=T.INIT_LINE_WIDTH,this.#M=t/2-this.#w/2-2,this.#B=function(t){const e=t.toLowerCase();if(e.includes("rgb")){const t=e.indexOf("("),s=e.indexOf(")"),i=e.substring(t+1,s).split(", ");return{r:i[0],g:i[1],b:i[2]}}}(e.background),this.#F=e.progressBar,this.#b=T.TOTAL_PROGRESS_LENGTH*T.FPS_TIME/(1e3*s)}animate(t){return this.#k&&this.#X(),T.FPS_TIME<t-this.#G&&(this.#z(),n(this.#W)&&!n(this.#j)&&(this.clearCanvas(),this.#U&&this.#U()),this.#G=t,this.#j=this.#W),this.#W}#z(){this.#H>T.TOTAL_PROGRESS_LENGTH?this.#W||(this.#W=a):(this.clearCanvas(),this.#a(),this.#$(),this.#W&&(this.#W=!1))}#X(){this.#V+=T.ALPHA_INCREASING_SPEED,this.clearCanvas(),this.#a(),this.#V>=1&&(this.#k=!1,this.#H=T.INIT_PROGRESS)}#$(){const t=(this.#H-T.START_DEGREE)*s/180;this.#Y(this.#F,this.#w,T.START_RADIAN,t),this.#H+=this.#b}#a(){const t=`rgba(\n      ${this.#B.r}, \n      ${this.#B.g}, \n      ${this.#B.b}, \n      ${this.#V})`;this.#Y(t,this.#w-1,0,i)}#Y(t,e,s,i){this.ctx.save(),this.ctx.strokeStyle=t,this.ctx.lineWidth=e,this.ctx.beginPath(),this.ctx.arc(this.#L.x,this.#L.y,this.#M,s,i),this.ctx.stroke(),this.ctx.restore()}set onDoneHandler(t){this.#U=t}start(){this.#k=!0,this.#V=0}stop(){this.clearCanvas(),this.#k=!1,this.#V=1,this.#H=T.TOTAL_PROGRESS_LENGTH+1}get status(){return this.#W}}class E extends l{static TAB_TOGGLE_TIME=600;static TAB_THICKNESS=1;static BACK=-1;static FORWARD=1;static INIT=0;static TYPE=1;static MOVE=2;static DELETE=3;static DELAY=4;static FONT_HEIGHT_OFFSET=10;#Z={msg:E.INIT,data:null};#K=[];#q;#J;#Q=0;#tt=0;#et=0;#st=!0;#it={x:0,y:0};#rt="";#at=[];#ot=0;#ht=0;#nt=this.#ct;#dt=0;#lt=!0;#gt;#ut;#Tt=!1;#Et=null;constructor(t,e=50){super(),this.#q=t,this.#J=e,this.setStartPos(10,10),this.#at.push({...this.#it})}setStartPos(t,e){this.#it={x:t,y:e},this.#at=[],this.#at.push({...this.#it})}resize(t=0,e=0){super.resize(t,e),this.#pt(this.#q),this.init()}removeFromStage(){this.init(),super.removeFromStage()}init(){this.#Z={msg:E.INIT,data:null},this.#K=[],this.#rt="",this.#at=[],this.#at.push({...this.#it}),this.#ot=0,this.#ht=0,this.#nt=this.#ct,this.#dt=0,this.#lt=!0,this.#gt="",this.#ut=0,this.#Tt=!1}start(){this.#Tt=!0}stop(){this.#Tt=!1}animate(t){if(this.#Tt){if(this.#Q=t,this.#Z.msg===E.INIT&&(this.#Z=0!==this.#K.length?this.#K.shift():this.#Z,this.#nt=this.#It()),this.#mt&&this.#vt)return this.#nt(this.#Z.data),void(this.#et=t);this.#Ct&&(this.#ct(),this.#tt=this.#Q,this.#Et&&this.#xt&&this.#Et(this.data),this.#Dt&&this.#Rt&&(this.#Z={msg:E.INIT,data:null}))}}setWaitingHandler(t,e){this.#Et=t,this.data=e}type(t,e=0){return this.#K.push({msg:E.TYPE,data:t}),e&&this.#K.push({msg:E.DELAY,data:e}),this}move(t,e=0){return this.#K.push({msg:E.MOVE,data:t}),e&&this.#K.push({msg:E.DELAY,data:e}),this}moveFront(t=0){return this.#K.push({msg:E.MOVE,data:Number.MIN_SAFE_INTEGER}),t&&this.#K.push({msg:E.DELAY,data:t}),this}moveEnd(t=0){return this.#K.push({msg:E.MOVE,data:Number.MAX_SAFE_INTEGER}),t&&this.#K.push({msg:E.DELAY,data:t}),this}delete(t,e=0){return this.#K.push({msg:E.DELETE,data:t}),e&&this.#K.push({msg:E.DELAY,data:e}),this}delay(t){return this.#K.push({msg:E.DELAY,data:t}),this}#It(){switch(this.#Z.msg){case E.TYPE:return this.#St(this.#Z.data),this.#_t;case E.MOVE:return this.#yt(this.#Z.data),this.#Ot;case E.DELETE:return this.#Pt(this.#Z.data),this.#At;case E.DELAY:this.#Nt(this.#Z.data);default:return this.#ct}}#St(t){const e=t.constructor!==Array?t:t.reduce(((e,s,i)=>e+(i!==t.length-1?s+"\n":s)),""),s=this.#rt.slice(0,this.#ot);this.#gt=this.#rt.slice(this.#ot),this.#rt=s+e+this.#gt,this.#ht=this.#ot+e.length;const i=this.#gt.indexOf("\n");-1===i||(this.#gt=this.#gt.slice(0,i)),this.#ft(0)}#yt(t){this.#ht+=t,this.#ht>this.#rt.length&&(this.#ht=this.#rt.length),this.#ht<0&&(this.#ht=0),this.#dt=this.#Z.data<0?E.BACK:E.FORWARD,this.#ot===this.#ht&&(this.#dt=0),this.#ht!==this.#rt.length&&(this.#lt=!1)}#Pt(t){this.#ht+=t,this.#ht>this.#rt.length&&(this.#ht=this.#rt.length),this.#dt=this.#Z.data<0?E.BACK:E.FORWARD}#Nt(t){this.#ut=this.#Q+t}#ft(t){this.#at.splice(t,this.#at.length-t);let e=0===t?{...this.#it}:{...this.#at[t-1]};this.#at.push({...e});for(let s=t;s<this.#rt.length;s++){const t=this.#rt[s];e="\n"===t?this.#Lt(e):{x:e.x+=this.ctx.measureText(t).width,y:e.y},this.#at.push({...e})}}#Lt(t){return{x:this.#it.x,y:t.y+this.#q.size+2*E.FONT_HEIGHT_OFFSET}}#_t(){const t=this.#at[this.#ot];this.#Mt(t),this.#lt||this.#wt();const e=this.#rt[this.#ot],s=this.#lt?e:e+this.#gt;this.ctx.fillText(s,t.x,t.y);const i=this.#at[this.#ot+1];this.#Bt(i),this.#ot++,this.#Ft&&(this.#Z={msg:E.INIT,data:null})}#Ot(){const t=this.#at[this.#ot];this.#Mt(t),this.#ot+=this.#dt;const e=this.#at[this.#ot];this.#Bt(e),this.#ot===this.#rt.length&&(this.#lt=!0),this.#Ft&&(this.#Z={msg:E.INIT,data:null})}#At(){const t=this.#at[this.#ot];this.#Mt(t),this.#wt(),this.#gt=this.#rt.slice(this.#ot+1),this.#rt=this.#rt.slice(0,this.#ot)+this.#gt,this.#ft(this.#ot+1),this.ctx.fillText(this.#gt,t.x,t.y),this.#ht-=this.#dt;const e=this.#at[this.#ot];this.#Bt(e),this.#Ft&&(this.#Z={msg:E.INIT,data:null})}#ct(){const t=this.#at[this.#ot];this.#st?this.#Bt(t):this.#Mt(t),this.#st=!this.#st}#Bt(t){this.ctx.save(),this.ctx.imageSmoothingEnabled=!1,this.ctx.fillRect(t.x,t.y,E.TAB_THICKNESS,this.#q.size),this.ctx.restore()}#Mt(t){this.ctx.clearRect(t.x-1,t.y,E.TAB_THICKNESS+2,this.#q.size)}#wt(){const t=this.#at[this.#ot],e=this.#at[this.#bt];this.clearRect(t.x,t.y-E.FONT_HEIGHT_OFFSET,e.x,e.y+this.#q.size+E.FONT_HEIGHT_OFFSET)}#pt(t){this.ctx.textBaseline="top",this.ctx.font=t.font,this.ctx.fillStyle=t.color}get#bt(){let t;for(t=this.#ht;t<this.#rt.length&&"\n"!==this.#rt[t];t++);return t===this.#at.length&&t--,t}get#Ft(){return this.#ot===this.#ht}get#vt(){return this.#J<this.#Q-this.#et}get#Ct(){return E.TAB_TOGGLE_TIME<this.#Q-this.#tt}get#mt(){return this.#Z.msg!==E.INIT&&this.#Z.msg!==E.DELAY}get#Dt(){return this.#Z.msg===E.DELAY}get#xt(){return this.#Z.msg===E.INIT}get#Rt(){return this.#ut<this.#Q}set fontFormat(t){this.#q=t,this.#pt(t)}}class p{#Ht;#Gt;#Wt;#kt;constructor(t,e,s,i){this.#Ht=t,this.#Gt=e,this.#Wt=s,this.#kt=i}get width(){return this.#Ht}get size(){return this.#Gt}get name(){return this.#Wt}get color(){return this.#kt}get font(){return`${this.#Ht} ${this.#Gt}px ${this.#Wt}`}}class I{#_t;#u;#T;#Vt;#jt;#i;#Ut=!1;constructor(t,e=50,s="#ffffff",i="#000000cc"){this.#Vt=t,this.#jt=s,this.#i=i,this.#_t=new E(new p(400,50,this.#Vt,this.#jt),e),this.#_t.setWaitingHandler(this.hide,300),this.#_t.hide()}resize(){let t=15;switch(this.#_t.sizeMode){case E.LARGE_MODE:case E.MEDIUM_MODE:this.#u=1300,this.#T=500,this.#_t.fontFormat=new p(400,50,this.#Vt,this.#jt),this.#_t.setStartPos(55,130);break;case E.REGULAR_MODE:this.#u=750,this.#T=350,this.#_t.fontFormat=new p(400,30,this.#Vt,this.#jt),this.#_t.setStartPos(20,100);break;case E.SMALL_MODE:this.#u=340,this.#T=460,this.#_t.fontFormat=new p(400,26,this.#Vt,this.#jt),this.#_t.setStartPos(20,60),t=10;break;default:throw new Error("This size mode is not valid.")}this.#_t.resize(this.#u,this.#T),this.#_t.setPosition((document.body.clientWidth-this.#u)/2,(document.body.clientHeight-this.#T)/2),this.#_t.borderRadius=t,this.#_t.backgroundColor=this.#i,this.setMessage()}animate(t){this.#_t.animate(t)}setMessage(){this.#_t.isMatchMedia?this.#_t.delay(1e3).type("Hello,",100).type(" I am Deokgeun Kim.",100).type(["","","A Software Engineer of C/C++"],100).move(-8,50).delete(8,50).type(["currently","residing Dresden, in Germany."],100).type(["","","It's my portfolio of HTML5"],100).move(-5,50).delete(5).type("interactive").moveEnd().type(["","HTML5"],1e3).type(" without library.",100).type(["","","Please enjoy this. "],50).start():this.#_t.delay(1e3).type("Hello,",100).type(" I am Deokgeun Kim.",100).type(["","A Software Engineer of C/C++"],100).move(-8,50).delete(8,50).type("currently residing Dresden, in Germany.",100).type(["","It's my portfolio of HTML5"],100).move(-5,50).type("interactive ",100).moveEnd(1e3).type(" without library.",100).type(["","Please enjoy this. "],50).start()}show(t=0,e="ease"){this.#Ut=!1,this.#_t.isOnStage||this.#_t.bringToStage(),this.#_t.show(t,e)}hide=(t=0,e="ease")=>{this.#Ut||(this.#Ut=!0,this.#_t.hide(t,e),setTimeout((()=>this.#_t.isOnStage&&this.#_t.removeFromStage()),2*t))};initTyping(){this.#_t.clearCanvas(),this.#_t.init()}}class m extends l{static INIT_RATIO=1;static SELECTED_MODE_RATIO=1.1;static DETAIL_MODE_RATIO=2;static DEGREE_INTERVAL=10;static MEDIA_DEGREE_INTERVAL=m.DEGREE_INTERVAL*o;static TURN_LEFT=-1;static TURN_RIGHT=1;static INIT_ROTARY_SPEED=1;static BUTTON_APPEAR_DURATION=800;static PROGRESS_BAR_PADDING=10;#Xt;#zt;#$t;#Yt;#Zt;#Kt=[];#qt=0;#Jt=this.#qt;#Qt=0;#te=m.INIT_ROTARY_SPEED;#ee;#se=[];#ie=!1;#re;#ae;#oe;#he;#ne;#ce;#de=!1;#le=!1;#ge=null;#ue=r;#Te=r;#Ee=[];#pe=0;#Ie=!1;#me;#ve=!1;#Ce=!1;#xe=m.INVALID_INDEX;constructor(t,e){super(!0),this.#Kt=t,this.#ee=Math.floor(this.#Kt.length/2),this.#qt=this.#ee*this.#De,this.#Ee=e,this.#Ee.forEach((t=>t.removeFromStage())),this.#ae=document.querySelector(".left-buttons"),this.#oe=document.querySelector(".bottom-buttons"),this.#he=document.querySelector(".close-cover"),this.#ne=document.querySelector(".git"),this.#ce=document.querySelector(".introduce"),this.#re=document.querySelector("body"),this.#zt=new u,this.#Xt=new g,this.#Xt.onDisappearedHandler=this.setLoadProjectTimer,this.#$t=new T(this.#he.getBoundingClientRect().width+2*m.PROGRESS_BAR_PADDING,{background:"rgb(200, 200, 200)",progressBar:"#6d6d6d"},1),this.#$t.onDoneHandler=this.disappearDetailCover,this.#me=new I("Fjalla One",30),window.addEventListener("resize",this.resize),this.#he.addEventListener("click",this.#Re),this.#ce.addEventListener("click",(()=>{this.#me.initTyping(),this.#me.setMessage(),this.#me.show(300)})),this.#Se(),this.resize(),this.#me.show(300)}#Se(){window.addEventListener("touchstart",(t=>{this.#pe=t.touches[0].clientX})),window.addEventListener("touchend",this.#_e),window.addEventListener("mousedown",(t=>{this.#pe=t.clientX,this.#me.hide()})),window.addEventListener("mouseup",this.#ye),window.addEventListener("mousemove",this.#Oe),window.addEventListener("wheel",this.#Pe)}#Ae(){window.removeEventListener("touchstart",(t=>this.#pe=t.touches[0].clientX)),window.removeEventListener("touchend",this.#_e),window.removeEventListener("mousedown",(t=>this.#pe=t.clientX)),window.removeEventListener("mouseup",this.#ye),window.removeEventListener("mousemove",this.#Oe),window.removeEventListener("wheel",this.#Pe)}resize=()=>{super.resize(),this.#zt.resize(),this.#Xt.resize(),this.#me.resize(),this.#te=m.INIT_ROTARY_SPEED*this.#Ne,this.#Yt=this.stageHeight,this.#Zt={x:this.stageWidth/2,y:this.stageHeight/2*3},this.#qt=this.#ee*this.#De,this.#Re(!0),this.#fe(),this.#Le(m.INIT_RATIO,m.SELECTED_MODE_RATIO),this.#Ee.forEach((t=>t.resize())),this.#me.resize(),this.#me.show(300)};#Me(){this.#Ce=!0,this.#Ae(),this.#oe.style.display="none",this.#de=!0,this.#ne.innerHTML=`\n    <a href='${this.#Kt[this.#ee].url}' target='blank'>\n      <i class="fa-brands fa-github"></i>\n    </a>`,setTimeout((()=>{window.addEventListener("click",this.#we)}),m.BUTTON_APPEAR_DURATION)}#we=()=>{n(this.#$t.status)||(this.#$t.stop(),this.disappearDetailCover())};#Re=(t=!1)=>{this.#Ce=!1,!c(this.#Te)||this.#Be(),c(this.#ue)||this.#Fe(),this.#ge&&this.#be(),this.#$t.stop(),this.#$t.clearCanvas(),this.#ae.style.transform="translate(-100%, -50%)",this.#he.style.transform="translate(100%, -50%)",t?this.#le=!0:this.#He()};#He(){setTimeout((()=>this.#le=!0),m.BUTTON_APPEAR_DURATION)}#ye=t=>{const e={x:t.clientX,y:t.clientY};if(h(e,this.#se[this.#ee]))return this.#Me(),void(this.#re.style.cursor="default");for(let t=this.#se.length-1;t>=0;t--)if(h(e,this.#se[t]))return t===this.#ee?(this.#Me(),void(this.#re.style.cursor="default")):void this.#Ge(t);const s=t.clientX-this.#pe;if(s){const t=this.#We(s>0);t===this.#ee||this.#Ge(t)}};#_e=t=>{const e=t.changedTouches[0].clientX-this.#pe;if(Math.abs(e)>5){const t=this.#We(e<0);t===this.#ee||this.#Ge(t)}};#Pe=t=>{if(!this.#Ie){const e=this.#We(t.deltaY>0);e===this.#ee||this.#Ge(e),this.#Ie=!0}};#We(t){const e=this.#ee===this.#Kt.length-1,s=0===this.#ee;return t?e?this.#ee:this.#ee+1:s?0:this.#ee-1}#Oe=t=>{const e={x:t.clientX,y:t.clientY};if(h(e,this.#se[this.#ee]))return"pointer"!==this.#re.style.cursor&&(this.#re.style.cursor="pointer"),void(this.#xe!==m.INVALID_INDEX&&(this.#xe=m.INVALID_INDEX,this.clearCanvas(),this.#fe()));for(let t=this.#se.length-1;t>=0;t--)if(h(e,this.#se[t]))return"pointer"!==this.#re.style.cursor&&(this.#re.style.cursor="pointer"),void(this.#xe!==t&&(this.#xe=t,this.clearCanvas(),this.#fe()));"default"!==this.#re.style.cursor&&(this.#re.style.cursor="default"),this.#xe!==m.INVALID_INDEX&&(this.#xe=m.INVALID_INDEX,this.clearCanvas(),this.#fe())};#Ge=t=>{this.#Qt=this.#ee>t?m.TURN_LEFT:m.TURN_RIGHT,this.#Jt=t*this.#De,this.#ee=t};#fe(){this.#se=[],this.#Kt.forEach(((t,e)=>{const i=(this.#De*e-this.#qt)*s/180,r={x:this.#Zt.x+this.#Yt*Math.sin(i),y:this.#Zt.y-this.#Yt*Math.cos(i)},a=this.#xe===e;this.#A(t.cover,r,i,a),this.#h(t.cover,r,i),this.#ke(r)}))}#A(t,e,s,i){this.ctx.save(),this.ctx.translate(e.x,e.y),this.ctx.rotate(s),this.isMatchMedia&&this.ctx.scale(o,o),t.animate(this.ctx,i),this.ctx.restore()}#h(t,e,i){this.ctx.save();const r=270*s/180,a=this.isMatchMedia?1.15*e.y:e.y;this.ctx.translate(e.x,a),this.ctx.rotate(i+r);const o=this.isMatchMedia?18:20;this.ctx.font=`10 ${o}px Arial`,this.ctx.textAlign="left";const h=this.isMatchMedia?170:200;this.ctx.illStyle="#BEBCBE",this.ctx.fillText(t.title,h,0),this.ctx.fillStyle="#D0CED0",this.ctx.fillText(`${t.createdDate.month}, ${t.createdDate.day}`,h,30),this.ctx.restore()}#ke(t){const e=d.COVER_RECT.w*this.#Ne,s=d.COVER_RECT.h*this.#Ne;this.#se.push({x:t.x-e/2,y:t.y-s/2,w:e,h:s})}animate(t){this.#Ve()?this.#je():this.#Ue(),this.#de&&this.#Xe(),this.#le&&this.#ze(),this.#Xt.animate(),this.#$t.animate(t),this.#ge&&this.#ge.animate(t),this.#me.animate(t)}#Ve(){return this.#Qt==m.TURN_RIGHT&&this.#qt<this.#Jt||this.#Qt==m.TURN_LEFT&&this.#qt>this.#Jt}#je(){this.clearCanvas(),this.#qt=(this.#qt+this.#te*this.#Qt)%361,this.#qt=this.#qt<0?0:this.#qt,this.#fe(),this.#ie||(this.#Xt.reset(),this.#ie=!0)}#Ue(){this.#ie&&(this.#Le(m.INIT_RATIO,m.SELECTED_MODE_RATIO),this.#ie=!1),this.#Ie&&(this.#Ie=!1)}#Xe(){this.#zt.on()&&(this.#ve=!0,this.#de=!1,this.#Le(m.SELECTED_MODE_RATIO,m.DETAIL_MODE_RATIO),this.#$e())}#$e(){setTimeout((()=>{const t=this.isMatchMedia?20:100;this.#ae.style.transform=`translate(${t}%, -50%)`,this.#he.style.transform=`translate(-${t}%, -50%)`;const e=this.#he.getBoundingClientRect(),s=1+t/100;this.#$t.setPosition(e.x-e.width*s-m.PROGRESS_BAR_PADDING,e.y-m.PROGRESS_BAR_PADDING),this.#Ye()}),m.BUTTON_APPEAR_DURATION)}#Ye(){this.#Te=setTimeout((()=>{this.#Ce&&(this.#$t.start(),this.#Te=r)}),m.BUTTON_APPEAR_DURATION)}#Be(){clearTimeout(this.#Te),this.#Te=r}#ze(){this.#zt.off()&&(this.#le=!1,this.#oe.style.display="flex",this.#Se(),window.removeEventListener("click",this.#we),this.#Ce||this.#ve?this.#Xt.setTargetRatio(m.DETAIL_MODE_RATIO,m.SELECTED_MODE_RATIO):this.#Le(m.INIT_RATIO,m.SELECTED_MODE_RATIO))}#Le(t,e){const s=this.#Kt[this.#ee].cover;this.#Xt.init(s),this.#Xt.setTargetRatio(t,e)}disappearDetailCover=()=>{this.#Ce&&(this.#Xt.disappearToLeft(),this.#ve=!1)};setLoadProjectTimer=()=>{this.#Ce&&(this.#ue=setTimeout((()=>{this.#Ze(),this.#ue=r}),m.BUTTON_APPEAR_DURATION))};#Fe(){clearTimeout(this.#ue),this.#ue=r}#Ze(){this.#ge=this.#Ee[this.#ee],this.#ge.bringToStage(),this.#ge.resize()}#be(){this.#ge&&(this.#ge.clearCanvas(),this.#ge.removeFromStage(),this.#ge=null)}get#Ne(){switch(this.sizeMode){case l.SMALL_MODE:return o;case l.LARGE_MODE:return 2;default:return 1}}get#De(){return this.isMatchMedia?m.MEDIA_DEGREE_INTERVAL:m.DEGREE_INTERVAL}}return e.default})()));