/*! For license information please see kt-dot.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.kt=e():(t.kt=t.kt||{},t.kt.Dot=e())}(self,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>d});class i{static EVEN_ODD_OFFSET=6;#t;#e;#i;constructor(t,e,i){this.#t=t,this.#e=e,this.#i=i}drawTextFrame=(t,e,i,s)=>{t.save(),t.font=this.#t.font,t.fillStyle=this.#i,t.textBaseline="middle";const o=t.measureText(e);return t.fillText(e,(i-o.width)/2,(s+o.actualBoundingBoxAscent-o.actualBoundingBoxDescent)/2),t.restore(),{textField:{left:(i-o.width)/2,top:(s-o.actualBoundingBoxAscent-o.actualBoundingBoxDescent)/2,width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent},dots:this.#s(t,i,s)}};#s(t,e,s){const o=t.getImageData(0,0,e,s).data,a=[];let h,r=0,n=0;for(let t=0;t<s;t+=this.#e)for(r=n++%2*i.EVEN_ODD_OFFSET;r<e;r+=this.#e)h=o[4*(r+t*e)+3],h&&a.push({x:r,y:t});return a}}const s=2*Math.PI;function o(t,e,i,s){const o=i-t,a=s-e;return Math.sqrt(o*o+a*a)}function a(t){const e=t.toLowerCase();if(e.includes("rgb")){const t=e.indexOf("("),i=e.indexOf(")"),s=e.substring(t+1,i).split(", ");return{r:s[0],g:s[1],b:s[2]}}}class h{static PLUCK_COUNT_OFFSET=1.5;#o;#a;#h;constructor(t){this.#o=t}init(t,e,i){return this.#a=0,this.#h=this.#r(t,e,i),Math.ceil(this.#h/this.#o)*h.PLUCK_COUNT_OFFSET}animate(){this.#a+=this.#o*(this.#a<this.#h)}#r(t,e,i){const s=o(i.left,i.top,t,e),a=o(i.left+i.width-1,i.top,t,e),h=o(i.left,i.top+i.height-1,t,e),r=o(i.left+i.width-1,i.top+i.height-1,t,e);return Math.max(s,a,h,r)}get radius(){return this.#a}set radius(t){this.#a=t}}class r{static BOUNCE=.82;static FPS=15;static FPS_TIME=1e3/r.FPS;static FRICTION=.86;static RADIUS_OFFSET=.85;static INVALID=-1;#n;#c;#d;#l;#u;#g;#x;#m;#p;#v;#a;#f;#R;#T;constructor(t,e,i,s){this.#n=t,this.#c=e*r.RADIUS_OFFSET,this.#g=i,this.#u=s,this.#d=0,this.#l=[this.#c/r.FPS*-1,this.#c/r.FPS],this.init()}init(){this.#x=this.#g,this.#m={x:this.#n.x,y:this.#n.y},this.#p={vx:0,vy:0},this.#a=0,this.#f=0,this.#R=0,this.#v=this.#c+this.#l[this.#R],this.#T=r.INVALID}pluckAnimate=t=>{t.save(),t.fillStyle=`rgba(\n      ${this.#u.r}, \n      ${this.#u.g}, \n      ${this.#u.b}, \n      0.8)`,t.fillRect(this.#n.x-this.#a,this.#n.y-this.#a,2*this.#a,2*this.#a);const e=(this.#c-this.#a)/2;this.#f=(this.#f+e)*r.BOUNCE,this.#a+=this.#f,t.beginPath(),t.fillStyle=`rgb(\n      ${this.#x.r}, \n      ${this.#x.g}, \n      ${this.#x.b})`,t.arc(this.#n.x,this.#n.y,this.#a*r.RADIUS_OFFSET,0,s,!1),t.fill(),t.restore()};kineticAnimate=(t,e)=>{this.#S(e),this.#p.vx*=r.FRICTION,this.#p.vy*=r.FRICTION,this.#m.x+=this.#p.vx,this.#m.y+=this.#p.vy,t.beginPath(),t.fillStyle=`rgb(\n      ${this.#x.r}, \n      ${this.#x.g}, \n      ${this.#x.b})`,t.ellipse(this.#m.x,this.#m.y,this.#v,this.#a*r.RADIUS_OFFSET,0,0,s),t.fill()};#S(t){this.#d||(this.#d=t),t-this.#d>r.FPS_TIME&&(this.#d=t,this.#y())}#y(){if(this.#T>0){const t=Math.round(16777215*Math.random());this.#x={r:t>>16&255,g:t>>8&255,b:255&t},this.#T--}else this.#T!==r.INVALID&&(this.#x=this.#g,this.#T=r.INVALID);this.#v<1?this.#R=1:this.#v>=this.#a*r.RADIUS_OFFSET&&(this.#R=0),this.#v+=this.#l[this.#R]}collide(){this.#T=r.FPS}get posVelocity(){return this.#p}set posVelocity(t){this.#p=t}get pos(){return this.#m}}class n{static INIT_MODE=-1;static SMALL_MODE=0;static REGULAR_MODE=1;static MEDIUM_MODE=2;static LARGE_MODE=3;#F;#M;#C;#E;#D;constructor(t=!1){this.#F=document.createElement("canvas"),this.#M=this.#F.getContext("2d"),document.body.append(this.#F),this.#D=t,this.#D&&this.#F.classList.add("canvas-full")}resize(t=0,e=0){this.#C=0===t?document.body.clientWidth:t,this.#E=0===e?document.body.clientHeight:e,this.#F.width=this.#C,this.#F.height=this.#E}getSizeMode(){const t=[{mode:n.SMALL_MODE,size:500},{mode:n.REGULAR_MODE,size:1e3},{mode:n.MEDIUM_MODE,size:1980},{mode:n.LARGE_MODE,size:3840}],e=t.filter((t=>!window.matchMedia(`(max-width: ${t.size}px)`).matches)).length;return t[e].mode}clearCanvas(){this.#M.clearRect(0,0,this.#C,this.#E)}animateTarget(t,...e){return t(this.#M,...e)}saveCanvas(){this.#M.save()}restoreCanvas(){this.#M.restore()}addEventToCanvas(t,e){this.#F.addEventListener(t,e)}removeEventFromCanvas(t,e){this.#F.removeEventListener(t,e)}bringToStage(){document.body.append(this.#F)}removeFromStage(){this.clearCanvas(),document.body.removeChild(this.#F)}fill(){this.#M.fill()}fillRect(t,e,i,s){this.#M.fillRect(t,e,i,s)}fillText(t,e,i,s){this.#M.fillText(t,e,i,s)}measureText(t){return this.#M.measureText(t)}translate(t,e){this.#M.translate(t,e)}scale(t,e){this.#M.scale(t,e)}rotate(t){this.#M.rotate(t)}beginPath(){this.#M.beginPath()}stroke(){this.#M.stroke()}arc(t,e,i,s,o,a=!1){this.#M.arc(t,e,i,s,o,a)}moveTo(t,e){this.#M.moveTo(t,e)}lineTo(t,e){this.#M.lineTo(t,e)}drawImage(t,e,i,s,o,a,h,r,n){this.#M.drawImage(t,e,i,s,o,a,h,r,n)}getImageData(t,e,i,s,o){return this.#M.getImageData(t,e,i,s,o)}setPosition(t,e){if(this.#D)throw new Error("Positioning is not possible in full screen mode.");this.#F.style.left=`${t}px`,this.#F.style.top=`${e}px`}getFont(){return this.#M.font}setFont(t){return this.#M.font=t}getFillStyle(){return this.#M.fillStyle}setFillStyle(t){this.#M.fillStyle=t}getStrokeStyle(){return this.#M.strokeStyle}setStrokeStyle(t){this.#M.strokeStyle=t}getLineWidth(){return this.#M.lineWidth}setLineWidth(t){this.#M.lineWidth=t}getTextAlign(){return this.#M.textAlign}setTextAlign(t){return this.#M.textAlign=t}getTextBaseline(){return this.#M.textBaseline}setTextBaseline(t){this.#M.textBaseline=t}get stageWidth(){return this.#C}get stageHeight(){return this.#E}get isMatchMedia(){return this.getSizeMode()===n.SMALL_MODE}}class c{#B;#O;#k;constructor(t,e,i){this.#B=t,this.#O=e,this.#k=i}get width(){return this.#B()}get size(){return this.#B()}get size(){return this.#B()}get font(){return`${this.#B} ${this.#O}px ${this.#k}`}}class d extends n{static DOT_RADIUS=10;static RADIUS=10;static BG_COLOR="rgba(0, 0, 0)";static DOT_COLOR="rgb(255, 255, 255)";#I;#e;#b;#A=[];#P=0;#w;#_={x:0,y:0};#L;#G;#z;#V=!1;#U={x:0,y:0,radius:100};#N;#$;#W=n.INIT_MODE;constructor(t,e,i=10,s=!1){super(!0),this.#I=d.DOT_RADIUS,this.#e=2*this.#I,this.#b=i,this.#L=e,this.#N=s,this.#$=t,this.ripple=new h(this.#b),this.#H(),this.initEvents()}#H(){const t=this.getSizeMode();if(t===this.#W)return;this.#W=t;let e=0;switch(t){case n.SMALL_MODE:e=250;break;case n.REGULAR_MODE:e=400;break;case n.MEDIUM_MODE:e=700;break;case n.LARGE_MODE:e=800;break;default:throw new Error("This canvas size is not possible!")}const s=new c(800,e,this.#$);this.textFrame=new i(s,this.#e,d.BG_COLOR)}initEvents(){this.addEventToCanvas("click",this.onClick),document.addEventListener("pointermove",this.onMouseMove)}removeEvents(){this.removeEventFromCanvas("click",this.onClick),document.removeEventListener("pointermove",this.onMouseMove)}bringToStage(){super.bringToStage(),this.initEvents()}removeFromStage(){this.removeEvents(),super.removeFromStage()}resize=()=>{var t;super.resize(),this.#H(),this.addDotItemOnTextField(),this.isMatchMedia?this.onClick({offsetX:0,offsetY:0}):this.onClick({offsetX:(t=this.#z).left+Math.random()*t.width,offsetY:t.top+Math.random()*t.height})};animate=t=>{this.#V?this.KineticAnimate(t):this.pluckAnimate()};onClick=t=>{var e,i;this.isMatchMedia&&(e={x:t.offsetX,y:t.offsetY},(i=this.#z).left<=e.x&&e.x<=i.left+i.width-1&&i.top<=e.y&&e.y<=i.top+i.height-1)||(this.#A.forEach((t=>t.init())),this.#P=0,this.#_={x:t.offsetX,y:t.offsetY},this.#w=this.ripple.init(this.#_.x,this.#_.y,this.#z),this.clearCanvas(),this.animateTarget(this.textFrame.drawTextFrame,this.#G,this.stageWidth,this.stageHeight),this.#V=!1)};onMouseMove=t=>{this.#U.x=t.clientX,this.#U.y=t.clientY};pluckAnimate(){this.ripple.animate(),this.#A.filter((t=>{return e=t.pos,i=this.#_,s=this.ripple.radius,o(e.x,e.y,i.x,i.y)<=s;var e,i,s})).forEach((t=>this.animateTarget(t.pluckAnimate,1,2))),this.#P>=this.#w?this.#V=!0:this.#P++}KineticAnimate(t){let e,i,s,o,a,h,r,n,c;this.clearCanvas(),this.#A.forEach((l=>{e=this.#U.x-l.pos.x,i=this.#U.y-l.pos.y,s=Math.sqrt(e*e+i*i),o=d.RADIUS+this.#U.radius,s<o&&(a=Math.atan2(i,e),h=l.pos.x+Math.cos(a)*o,r=l.pos.y+Math.sin(a)*o,n=h-this.#U.x,c=r-this.#U.y,l.posVelocity.vx-=n,l.posVelocity.vy-=c,l.collide()),this.animateTarget(l.kineticAnimate,t)}))}addDotItemOnTextField(){this.#A=[],this.#G=this.#N?function(t){const e=t.split("");return e[Math.round(Math.random()*(e.length-1))]}(this.#L):this.#L,this.clearCanvas();const t=this.animateTarget(this.textFrame.drawTextFrame,this.#G,this.stageWidth,this.stageHeight),e=t.dots;this.#z=t.textField,e.forEach((t=>{this.#A.push(new r(t,this.#I,a(d.DOT_COLOR),a(d.BG_COLOR)))}))}}return e.default})()));